<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">Contracts</li><li class="chapter-item "><a href="Contracts/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Contracts/interfaces/IERC20Minimal.sol/interface.IERC20Minimal.html">IERC20Minimal</a></li><li class="chapter-item "><a href="Contracts/interfaces/I_Good.sol/interface.I_Good.html">I_Good</a></li><li class="chapter-item "><a href="Contracts/interfaces/I_MarketManage.sol/interface.I_MarketManage.html">I_MarketManage</a></li><li class="chapter-item "><a href="Contracts/interfaces/I_Proof.sol/interface.I_Proof.html">I_Proof</a></li><li class="chapter-item "><a href="Contracts/interfaces/I_Referer.sol/interface.I_Referer.html">I_Referer</a></li></ol></li><li class="chapter-item "><a href="Contracts/libraries/index.html">❱ libraries</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/type.T_BalanceUINT256.html">T_BalanceUINT256</a></li><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/library.L_BalanceUINT256Library.html">L_BalanceUINT256Library</a></li><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/function.getprice.html">getprice</a></li><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/function.sub.html">sub</a></li><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/function.add.html">add</a></li><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/function.subadd.html">subadd</a></li><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/function.addsub.html">addsub</a></li><li class="chapter-item "><a href="Contracts/libraries/L_BalanceUINT256.sol/function.toBalanceUINT256.html">toBalanceUINT256</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Currency.sol/library.L_CurrencyLibrary.html">L_CurrencyLibrary</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Good.sol/library.L_Good.html">L_Good</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Good.sol/library.L_GoodIdLibrary.html">L_GoodIdLibrary</a></li><li class="chapter-item "><a href="Contracts/libraries/L_GoodConfig.sol/library.L_GoodConfigLibrary.html">L_GoodConfigLibrary</a></li><li class="chapter-item "><a href="Contracts/libraries/L_MarketConfig.sol/library.L_MarketConfigLibrary.html">L_MarketConfigLibrary</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Proof.sol/library.L_Proof.html">L_Proof</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Proof.sol/library.L_ProofIdLibrary.html">L_ProofIdLibrary</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Struct.sol/struct.S_GoodKey.html">S_GoodKey</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Struct.sol/struct.S_ProofKey.html">S_ProofKey</a></li><li class="chapter-item "><a href="Contracts/libraries/L_Struct.sol/struct.S_Ralate.html">S_Ralate</a></li><li class="chapter-item "><a href="Contracts/libraries/Multicall.sol/abstract.Multicall.html">Multicall</a></li></ol></li><li class="chapter-item "><a href="Contracts/GoodManage.sol/abstract.GoodManage.html">GoodManage</a></li><li class="chapter-item "><a href="Contracts/MarketManager.sol/contract.MarketManager.html">MarketManager</a></li><li class="chapter-item "><a href="Contracts/ProofManage.sol/abstract.ProofManage.html">ProofManage</a></li><li class="chapter-item "><a href="Contracts/RefererManage.sol/abstract.RefererManage.html">RefererManage</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="1-概要"><a class="header" href="#1-概要">1 概要</a></h1>
<p>TTSWAP(token-token swap)是一个建立在以太坊区块链上的自动做市协议，意味着它不依赖于中心化的机构或个人来进行交易。它的核心原理是根据用户的行为，自动触发市场价值的转移，从而构建了一个基于恒定价值交易模型的平台。</p>
<p>这个项目的白皮书解释了TTSWAP的设计逻辑，涵盖了以下几个方面：</p>
<ol>
<li>商品交易：用户可以直接用一种商品换取另一种商品，而不需要通过其他中间商品。</li>
<li>价值商品投资与撤资：用户可以投资特定的价值商品，并在需要时撤回他们的投资。</li>
<li>普通商品投资与撤资：除了价值商品外，用户也可以投资普通商品，并随时撤回他们的投资。</li>
<li>商品手续费的产生与分配：在交易过程中产生的手续费会按照一定的规则进行分配，以激励更多的人参与到这个市场中来。</li>
</ol>
<p>总之，TTSWAP为普通用户提供了一个简单、透明、高效的加密货币交易平台，这个平台使用的是一个革新地AMM逻辑——恒定价值交易模型。旨在打造一个方便、安全、低GAS费用的平台。</p>
<hr />
<h1 id="2-特点"><a class="header" href="#2-特点">2 特点</a></h1>
<ol>
<li>
<p>恒定价值交易模型
这个模型的核心思想是确保交易的价值在整个过程中保持恒定，这意味着无论交易何时进行，都能客观地反映出币种的市场价值，这可让商品自由、简单、快速地交易。</p>
</li>
<li>
<p>无中转，直接交易<br />
在这个平台上，任意两种商品之间可以直接交易，而不需要先将一种商品转换成中转商品再进行交易。这样的直接交易模式简化了交易流程，节省了时间和成本。</p>
</li>
<li>
<p>无滑点交易
滑点是指在交易过程中由于市场价格波动导致的交易价格偏离预期的现象。在这个平台中，只要交易数量低于特定的阈值，就不会出现价格滑点，这意味着交易在特定条件下是稳定和可靠的。</p>
</li>
<li>
<p>没有无常损失
无常损失是指流动性提供者在提供流动性时因市场波动而遭受的损失。这个交易模型通过其设计逻辑上避免了无常损失的问题，这意味着流动性提供者或者商品投资者在撤资时可以保持原有投资的价值，并且还能获得提供流动性所产生的收益。</p>
</li>
<li>
<p>低Gas费用
Gas费用是在以太坊网络上执行智能合约时需要支付的费用。由于这个交易模型的逻辑相对简单且运算量较少，因此Gas消耗较低，用户在交易过程中可以节省大量的Gas费用，让交易更加经济高效。相比于其他交易模型，可以节省60%至90%的Gas费用。</p>
</li>
<li>
<p>手续费按角色分配
在平台上，手续费根据参与者的不同角色进行分配，这包括商家(商品卖家)、商品投资者（流动性提供者）、门户、推荐者和普通用户。任何人都有机会参与到平台的运作中，并分享平台发展所带来的收益，从而激励更多的用户参与到平台建设中。</p>
</li>
<li>
<p>支持BTC生态质押,享受质押模块化收益
1.</p>
</li>
<li>
<p>高拓展性</p>
<ol>
<li>后续会拓展到SOLANA,ZK,OP,ARB,POLYGON生态.</li>
</ol>
</li>
</ol>
<hr />
<h1 id="3-价值守恒交易横型原理"><a class="header" href="#3-价值守恒交易横型原理">3 价值守恒交易横型原理</a></h1>
<h2 id="31-市场中的商品"><a class="header" href="#31-市场中的商品">3.1 市场中的商品</a></h2>
<p>市场价值是衡量用户对于平台商品的需求程度.
例:在市场中有2000个商品A1,由于1个商品的单位价值是1,那么这个商品的市场价值2000.
<img src="https://github.com/ttswap/ttswap-core/tree/6ed0154bd184860c1a4f8abe4469356bf3bbf9d6/docs/image/GOOD_STATES.png" alt="Alt text" />
定义:
市场价值V(A1):2000
商品数量Q(A1):2000.
单位价值P(A1):1,单位数量的市场价值.</p>
<h2 id="32-市场中的商品与用户买卖行为的关系"><a class="header" href="#32-市场中的商品与用户买卖行为的关系">3.2 市场中的商品与用户买卖行为的关系</a></h2>
<ul>
<li>例1：用户花费价值1000购买,购买了商品A.</li>
</ul>
<p>用户购买,说明商品的市场价值增加.V(A1)=2000+1000=3000
用户购买,平台中商品数量Q(A)减少.Q(A1)=2000-1000=1000
平台中商品的单位价值P(A)发生变化成 P(A1)=3</p>
<ul>
<li>例2：用户出售价值1000购买,购买了商品A.</li>
</ul>
<p>用户出售,说明商品的市场价值减少.V(A2)=2000-1000=1000
用户出售,平台中商品数量Q(A)增加.Q(A2)=2000+1000=3000
平台中商品的单位价值P(A)发生变化 P(A2)=0.3333</p>
<p>展示如下图
<img src="./tree/master/docs/docs/image/GOOD_BUYSELL.png" alt="Alt text" /></p>
<h2 id="33-市场中用户行为与商品状态的关系"><a class="header" href="#33-市场中用户行为与商品状态的关系">3.3 市场中用户行为与商品状态的关系</a></h2>
<p>用户出售与购买，商品的商场价值V与商品数量Q发生变化，商品的价格也发生相应变化,商品的市场价值V与商品数量Q的变化如图
<img src="./docs/image/GOOD_STATE_CHANG.png" alt="Alt text" /></p>
<h2 id="34-市场中两种物品的关系"><a class="header" href="#34-市场中两种物品的关系">3.4 市场中两种物品的关系</a></h2>
<p>市场中有两种商品,A和B两种商品.A(2000,4000),B(4000,2000).</p>
<ul>
<li>用户使用500商品A,对于的市场价值为1000.市场价值为1000对应的1000个商品B.</li>
</ul>
<p>当用户购买500个商品A,就要花费1000个商品B,平台中的商品在图中A位置会位移到A1的位置,B会位移到B1的位置.
当用户出售500个商品A,就能得到1000个商品B,平台中的商品在图中A位置会位移到A2的位置,B会位移到B2的位置.
<img src="./docs/image/two_good_relate.png" alt="Alt text" />
因为位置发生变化,P(A)与P(B)也发生变化，商品B相对商品A的价格也会发生变化,如果与市场外部价格有差异,就会有其它交易促进市场价格与市场外部价格统一.</p>
<blockquote>
<p>备注：如果购买数量占市场中数据比例过大,会造成两商品的相对价格发生强烈波动,因此每个交易会拆分为多个小单进行交易</p>
</blockquote>
<h2 id="35-市场中多种商品的关系"><a class="header" href="#35-市场中多种商品的关系">3.5 市场中多种商品的关系</a></h2>
<p>任意两种商品因为用户交易,造成位置的变化,也会造成这两种商品与其它商品对对位置变化,产生价格的同步变化.
<img src="./docs/image/multi_good.png" alt="Alt text" /></p>
<h2 id="36-市场中商品每次交易大小与价格的关系"><a class="header" href="#36-市场中商品每次交易大小与价格的关系">3.6 市场中商品每次交易大小与价格的关系</a></h2>
<p>现场中商品数量为100 000 000 ,市场价值为100 000 000.</p>
<div class="table-wrapper"><table><thead><tr><th>交易大小</th><th>价格变化</th></tr></thead><tbody>
<tr><td>10</td><td>0.000000200000</td></tr>
<tr><td>50</td><td>0.000001000000</td></tr>
<tr><td>100</td><td>0.000002000002</td></tr>
<tr><td>500</td><td>0.000010000050</td></tr>
<tr><td>1000</td><td>0.000020000200</td></tr>
<tr><td>5000</td><td>0.000100005000</td></tr>
<tr><td>10000</td><td>0.000200020002</td></tr>
<tr><td>50000</td><td>0.001000500250</td></tr>
<tr><td>100000</td><td>0.002002002002</td></tr>
<tr><td>500000</td><td>0.010050251256</td></tr>
<tr><td>1000000</td><td>0.020202020202</td></tr>
<tr><td>5000000</td><td>0.105263157895</td></tr>
</tbody></table>
</div>
<h2 id="37-无滑点阈值别称交易阈值"><a class="header" href="#37-无滑点阈值别称交易阈值">3.7 无滑点阈值(别称交易阈值)</a></h2>
<p>为避免用户交易造成平台商品被挤兑.每个商品在初始化时会设置切分数,每份大小即为这个商品的无滑点阈值。因此当用户交易时,如果交易价值小于商品无滑点阈值,无无常损失.如果交易大于商品无滑点阈值.交易会以阈值为单位,拆分成交.
<img src="./docs/image/Noslippage.png" alt="Alt text" /></p>
<hr />
<h1 id="4-商品"><a class="header" href="#4-商品">4 商品</a></h1>
<h2 id="41-商品介绍"><a class="header" href="#41-商品介绍">4.1 商品介绍</a></h2>
<p>关于商品的描述:平台拥有市场价值3000的15枚A商品,那么商品就有两个属性:市场价值与商品数量.如下图
<img src="./docs/image/good_introduce.png" alt="Alt text" /></p>
<ul>
<li>名词解释
市场价值:用来衡量用户对平台商品的需求程度的。如果用户购买某个商品，说明用户对这个商品的需求增加,那么这个商品的市场价值就会上升。相反，如果用户开始卖出某个商品，说明用户对这个商品的需求减少,那么这个商品的市场价值就会下降.
商品数量:记录市场中商品的当前数量。</li>
</ul>
<ul>
<li>可以如下图描述其它任何商品,例如
<img src="./docs/image/goods.png" alt="Alt text" /></li>
</ul>
<h2 id="42-商品分类"><a class="header" href="#42-商品分类">4.2 商品分类</a></h2>
<div class="table-wrapper"><table><thead><tr><th>商品分类</th><th>说明</th><th>交易是否</br>产生手续费</th><th>是否可以</br>单独投资自己</th><th>是否可以与其它价值商品</br>一同投资</th></tr></thead><tbody>
<tr><td>元商品</td><td>市场中添加的首个商品</td><td>是</td><td>是</td><td>否</td></tr>
<tr><td>价值商品</td><td>商品得到市场认可,</br>有良好的生态及团队</td><td>是</td><td>是</td><td>否</td></tr>
<tr><td>普通商品</td><td>个人新增商品,</br>市场价值待确认</td><td>是</td><td>否</td><td>是</td></tr>
</tbody></table>
</div>
<h2 id="43-商品配置"><a class="header" href="#43-商品配置">4.3 商品配置</a></h2>
<ul>
<li>商品配置占255位</li>
</ul>
<h3 id="431-市场可以调整"><a class="header" href="#431-市场可以调整">4.3.1 市场可以调整</a></h3>
<div class="table-wrapper"><table><thead><tr><th>id</th><th>配置项</th><th>位数</th><th>单位</th><th>最大值</th><th>最小值</th><th>起始位</th><th>结束位</th><th>说明</th></tr></thead><tbody>
<tr><td>1</td><td>市场价值商品</td><td>1</td><td>BOOLEAN</td><td>1</td><td>0</td><td>1</td><td>1</td><td></td></tr>
<tr><td>1</td><td>预留</td><td>1</td><td>BOOLEAN</td><td>1</td><td>0</td><td>2</td><td>2</td><td></td></tr>
<tr><td>1</td><td>预留</td><td>1</td><td>BOOLEAN</td><td>1</td><td>0</td><td>3</td><td>3</td><td></td></tr>
<tr><td>1</td><td>预留</td><td>1</td><td>BOOLEAN</td><td>1</td><td>0</td><td>4</td><td>4</td><td></td></tr>
<tr><td>...</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
</tbody></table>
</div>
<h3 id="432-用户可以配置"><a class="header" href="#432-用户可以配置">4.3.2 用户可以配置</a></h3>
<div class="table-wrapper"><table><thead><tr><th>id</th><th>配置项</th><th>位数</th><th>单位</th><th>最大值</th><th>最小值</th><th>起始位</th><th>结束位</th><th>说明</th></tr></thead><tbody>
<tr><td>1</td><td>投资费率</td><td>7</td><td>万分之一</td><td>127</td><td>0</td><td>5</td><td>11</td><td>(1~1023)/10000</td></tr>
<tr><td>2</td><td>撤资费率</td><td>7</td><td>万分之一</td><td>127</td><td>0</td><td>12</td><td>18</td><td>(1~1023)/10000</td></tr>
<tr><td>3</td><td>购买费率</td><td>7</td><td>万分之一</td><td>127</td><td>0</td><td>19</td><td>25</td><td>(1~1023)/10000</td></tr>
<tr><td>4</td><td>出售费率</td><td>7</td><td>万分之一</td><td>127</td><td>0</td><td>26</td><td>32</td><td>(1~1023)/10000</td></tr>
<tr><td>5</td><td>交易切片数</td><td>10</td><td>64</td><td>1023</td><td>0</td><td>33</td><td>42</td><td>(1~1023)X64</td></tr>
<tr><td>6</td><td>撤资切片数</td><td>10</td><td>64</td><td>1023</td><td>0</td><td>43</td><td>52</td><td>(1~1023)</td></tr>
<tr><td>7</td><td>物品类型</td><td>33</td><td>1</td><td>1023</td><td>0</td><td>53</td><td>85</td><td>小于8589934591的数</td></tr>
<tr><td>8</td><td>电话号码</td><td>48</td><td>1</td><td>1023</td><td>0</td><td>86</td><td>133</td><td>小于281474976710652的数 前4位表示国家号,后11位表示电话话码</td></tr>
<tr><td>9</td><td>经度</td><td>48</td><td>1</td><td>1023</td><td>0</td><td>134</td><td>181</td><td>小于2814.74.97.67.10656的数</td></tr>
<tr><td>10</td><td>纬度</td><td>48</td><td>1</td><td>1023</td><td>0</td><td>182</td><td>230</td><td>小于2814.74.97.67.10656的数</td></tr>
<tr><td>11</td><td>预留</td><td>26</td><td>1</td><td>1023</td><td>0</td><td>231</td><td>256</td><td>预留字段</td></tr>
</tbody></table>
</div>
<hr />
<h1 id="5-商品交换"><a class="header" href="#5-商品交换">5 商品交换</a></h1>
<p>商品的交换实际上就是用户用自己手里的商品A去交换市场上的商品B。当用户选择放弃商品A时，这表明市场上商品A的价值降低，因为用户不再需要它。而当用户选择购买商品B时，这意味着商品B的价值上升，因为用户希望得到它。
<img src="./docs/image/goodswap.png" alt="Alt text" /></p>
<ul>
<li>
<p>如图所示,当用户放弃商品A时，平台中的商品A数量增加，而商品A的市场价值降低。而当用户获得商品B时，平台中的商品B数量减少，而商品B的市场价值增加。这就导致了相对于商品A，商品B的价格上升。因此，如果再次进行交易，用相同数量的商品A只能换取比上次少一些的商品B。</p>
</li>
<li>
<p>如图所示,也得到恒定价值交易模型的三大原则:
1.用户花费商品的市场价值=用户获取商品的市场价值。
2.用户购买前所有商品的市场价值=用户购买后所有商品的市场价值。
3.平台交易前所有商品的市场价值=平台交易后所有商品的市场价值。</p>
</li>
</ul>
<hr />
<h1 id="6-商品投资与撤资"><a class="header" href="#6-商品投资与撤资">6 商品投资与撤资</a></h1>
<h2 id="61-记录投资和撤资"><a class="header" href="#61-记录投资和撤资">6.1 记录投资和撤资</a></h2>
<p>市场中商品的交易,需有用户提供流动性.就应记录商品投资总市场价值与投资总数量.
<img src="./docs/image/goodinveststates.png" alt="Alt text" /></p>
<ul>
<li>名词解释
投资价值:用户投资时商品的市场总价值.
投资数量:用户投资时商品的总数量.</li>
</ul>
<h2 id="62-价值商品投资与撤资流程"><a class="header" href="#62-价值商品投资与撤资流程">6.2 价值商品投资与撤资流程</a></h2>
<p><img src="./docs/image/investordisinvest.png" alt="Alt text" /></p>
<ul>
<li>用户投资价值商品
用户根据当前价值商品的状态,计算投资数量对应的市场价值.方便撤资时计算收益.</li>
<li>用户撤资价值商品
用户根据投资记录,计算投资产生的收益</li>
</ul>
<blockquote>
<p>撤资商品时,取消数量＜商品当前的总数量/撤资切片数 和 取消数量对应的市场价值＜商品总价值/撤资切片数.</p>
</blockquote>
<h2 id="63-普通商品投资"><a class="header" href="#63-普通商品投资">6.3 普通商品投资</a></h2>
<p><img src="./docs/image/normalinvest.png" alt="Alt text" /></p>
<ul>
<li>用户投资普通商品
由于普通商品的市场价值波动太大,可能会导致平台内套利,造成商品投资者的损失.为避免这种情况的发生,需要投资等市场价值的价值商品.投资的价值商品和普通商品都会产生投资收益,具体参见手续费分配.</li>
</ul>
<h2 id="64-普通商品撤资"><a class="header" href="#64-普通商品撤资">6.4 普通商品撤资</a></h2>
<p><img src="./docs/image/normaldisinvest.png" alt="Alt text" /></p>
<ul>
<li>用户撤资普通商品
根据投资记录,计算普通商品和投资商品的收益.具体参见手续费分配.
撤资商品时,取消数量或者取消数量对应的市场价值需要小于商品当前的总数量或者总价值除以最大撤资比例.</li>
</ul>
<hr />
<h1 id="7-商品手续费"><a class="header" href="#7-商品手续费">7 商品手续费</a></h1>
<h2 id="71-商品手续费记录方式"><a class="header" href="#71-商品手续费记录方式">7.1 商品手续费记录方式</a></h2>
<p><img src="./docs/image/goodfeestates.png" alt="Alt text" /></p>
<ul>
<li>名词解释
费用总额=实际产生的手续费汇总+构建手续费汇总
构建手续费=计算用户投资产生的利润而引入虚拟手续费,不实际发生的手续费.具体参见7.4与7.5.</li>
</ul>
<h2 id="72-手续费来源"><a class="header" href="#72-手续费来源">7.2 手续费来源</a></h2>
<p><img src="./docs/image/goodfeesource.png" alt="Alt text" />
手续费(实际手续费)的来源是根据商品的费率,当用户进行操作时,计算得到.</p>
<h2 id="73-手续费分配"><a class="header" href="#73-手续费分配">7.3 手续费分配</a></h2>
<p><img src="./docs/image/feeallocation.png" alt="Alt text" />
平台中涉及平台技术,门户运营,推荐人,用户以及流动性提供者.平台会合理分配利润.
其中流动性提供者的手续费分配参见 7.4与7.5手续费流程</p>
<ul>
<li>如果用户填写了推荐者.
按用户的相关角色进行实时分配.</li>
<li>如果用户未填写推荐者.
手续费分配中用户所占比例划归于商家角色.
手续费分配中推荐者所占比例划归于门户角色.</li>
</ul>
<hr />
<h2 id="74-手续费计算流程投资"><a class="header" href="#74-手续费计算流程投资">7.4 手续费计算流程(投资)</a></h2>
<p><img src="./docs/image/feecompute_invest.png" alt="Alt text" /></p>
<ul>
<li>
<p>图1
单位手续费指单位投资应该得到多少手续费,单位手续费=手续费总额/总投资数量;
随着交易的进行,手续费不断产生,手续费总额增加,单位手续费就增加.
构建手续费提用户开始投资时,为记录用户不应该享受的手续费总额.
构建手续费=投资数量X投资时单位手续费</p>
</li>
<li>
<p>图2
当平台中不停有手续费产生时,单位手续费会不停增加.
用户投资产生的收益=单位手续费x投资数量-构建手续费.</p>
</li>
<li>
<p>图3
当用户在同一下商品上,进行多笔投资,可以合成同一条投资记录.
合并后的构建手续费=合并前的构建手续费汇总
手户投资产生的收益=单位手续费x投资数量-汇总后的构建手续费</p>
</li>
<li>
<p>图4
该图展示合并后的投资情况</p>
</li>
<li>
<p>图5
当多个用户进行投资时,就可以汇总成这个商品总投资数量,总投资市场价值,总构建手续费.
该商品当前总共实际投资利润=当前总费用-汇总构建手续费.</p>
</li>
</ul>
<h2 id="75-手续费计算流程撤资"><a class="header" href="#75-手续费计算流程撤资">7.5 手续费计算流程(撤资)</a></h2>
<p><img src="./docs/image/feecompute_disinvest.png" alt="Alt text" /></p>
<ul>
<li>图1
当用户撤资时,获得利润= 单位手续费X撤资数量-构建手续费X(撤资数量/用户投资总量)</li>
<li>图2
在商品减去用户撤资时的利润和构建手续费.</li>
</ul>
<hr />
<h1 id="8-市场配置"><a class="header" href="#8-市场配置">8 市场配置</a></h1>
<div class="table-wrapper"><table><thead><tr><th>id</th><th>配置项</th><th>位数</th><th>单位</th><th>最大值</th><th>最小值</th><th>起始位</th><th>结束位</th><th>说明</th></tr></thead><tbody>
<tr><td>1</td><td>商品投资者分佣</td><td>6</td><td>百分之一</td><td>63</td><td>0</td><td>256</td><td>251</td><td></td></tr>
<tr><td>2</td><td>商家分佣</td><td>6</td><td>百分之一</td><td>63</td><td>0</td><td>250</td><td>245</td><td></td></tr>
<tr><td>3</td><td>门户分佣</td><td>6</td><td>百分之一</td><td>63</td><td>0</td><td>244</td><td>239</td><td></td></tr>
<tr><td>4</td><td>推荐者分佣</td><td>6</td><td>百分之一</td><td>63</td><td>0</td><td>238</td><td>233</td><td></td></tr>
<tr><td>5</td><td>用户分佣</td><td>6</td><td>百分之一</td><td>63</td><td>0</td><td>232</td><td>227</td><td></td></tr>
<tr><td>6</td><td>协议费率</td><td>6</td><td>百分之一</td><td>63</td><td>0</td><td>226</td><td>221</td><td></td></tr>
<tr><td>...</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
</tbody></table>
</div>
<hr />
<h1 id="9-主要代码实现参见代码"><a class="header" href="#9-主要代码实现参见代码">9 主要代码实现(参见代码)</a></h1>
<h1 id="91-合约部署gas"><a class="header" href="#91-合约部署gas">9.1 合约部署GAS</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Deployment Cost</th><th>Deployment Size</th></tr></thead><tbody>
<tr><td>4877267</td><td>24752</td></tr>
</tbody></table>
</div>
<h1 id="92-合约函数部份主要函数gas"><a class="header" href="#92-合约函数部份主要函数gas">9.2 合约函数(部份主要函数)GAS</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Function Name</th><th>min</th><th>avg</th><th>median</th><th>max</th><th>备注</th></tr></thead><tbody>
<tr><td>buyGood</td><td>46836</td><td>138059</td><td>60565</td><td>329943</td><td>购买商品</td></tr>
<tr><td>disinvestNormalGood</td><td>49425</td><td>128844</td><td>124744</td><td>204344</td><td>撤资普通商品</td></tr>
<tr><td>disinvestNormalProof</td><td>48432</td><td>128221</td><td>124121</td><td>203721</td><td>撤资普通证明</td></tr>
<tr><td>disinvestValueGood</td><td>38356</td><td>73889</td><td>91656</td><td>91656</td><td>撤资价值商品</td></tr>
<tr><td>disinvestValueProof</td><td>36955</td><td>92016</td><td>97816</td><td>126116</td><td>撤资价值证明</td></tr>
<tr><td>initNormalGood</td><td>332431</td><td>359376</td><td>356331</td><td>405431</td><td>初始化普通商品</td></tr>
<tr><td>investNormalGood</td><td>54892</td><td>122094</td><td>113028</td><td>192628</td><td>投资普通商品</td></tr>
<tr><td>investValueGood</td><td>36041</td><td>116896</td><td>155177</td><td>279577</td><td>投资价值商品</td></tr>
<tr><td>setMarketConfig</td><td>1125</td><td>1125</td><td>1125</td><td>1125</td><td>更新市场配置</td></tr>
<tr><td>updateGoodConfig</td><td>3098</td><td>3098</td><td>3098</td><td>3098</td><td>更新商品配置</td></tr>
</tbody></table>
</div>
<h1 id="10-平台代币"><a class="header" href="#10-平台代币">10 平台代币</a></h1>
<p>平台采用4C成长型社区代币建设方案.通过此方案,更加灵活促进平台成长.关于双代币横型会继续完善.</p>
<h2 id="101-4c成长型社区代币治理建设方案"><a class="header" href="#101-4c成长型社区代币治理建设方案">10.1 4C成长型社区代币治理建设方案</a></h2>
<p>4C成长型社区代币角色分为四类:创始人,合伙人,价值贡献,资本贡献.</p>
<ol>
<li>创始人部份:
创始人部份作为项目发起人提供大量的人力资本，用以开发产品、创立品牌、拓展市场、招募人才、建立管理制度，同时并承担了巨大的失败风险而享受的待遇，由创始人独持，享有控制权、决策权、分红权。(不因离职而强制回购,上线12个月后60个月逐季解锁。在末解锁时,由社区账户控制,拥有人也拥有这部份投票权与分红权)</li>
<li>合伙人角色(合伙人部份A类型和合伙人部份B类型):
合伙人部份作为项目发起初期，在没有资源的情况下，需要充分利用自己团队的强大的执行力，去克服各种困难，一起坚持并坚信把社区做大做好做强的成员享受的待遇。由原始合伙人平均分摊，享有控制权、决策权、分红权。(合伙人部份A类型不因离职而强制回购, 合伙人部份B类型会因离职而强制回购,上线6个月后36个月逐季解锁.在末解锁时,由社区账户控制,拥有人也拥有这部份投票权与分红权)</li>
<li>价值贡献
根据为社区建设提供的价值大小分配分红权.该部份的投票权由创始人拥有.岗位部份,员工期权部份和其它部份的调整根据情况调整.
<ul>
<li>社区岗位部份:
岗位部份由担承社区重要职位的重要程度而决定，这部分分给社区重要职位对应负责人，重要职位对应的比例由每年初的社区划定。社区对于重要职位的合格、优秀的负责人经过社区决策后可转一定比例为合伙人股份A类型和合伙人股份B类型。岗位部份分红权由负责人享有，控制权由社区账户控制,决策权由创始人享有。(离职时社区将回购该合伙人股份B类型，如社区未回购，合伙人股份B类型自动转为合伙人A类型。性质为岗位股份，离职时社区将收回该部份,社区锁定中)</li>
<li>社区成员期权部份:
激励员工为社区一起奋斗而预留部分。社区对于优秀员工经过社区决策后可转一定比例为合伙人股分B类型，控制权由社区账户控制,决策权由创始人享有，分红权由员工享有。(离职时社区将收回该部分,社区锁定中)</li>
<li>其它部份:
金库,运营,活动,顾问等用途使用.</li>
</ul>
</li>
<li>资本贡献
<ul>
<li>众筹部份(参见众筹方案):
为团队建设,产品建设,流动性建设提供资金支持.</li>
<li>投资部份:
为团队精进,产品完善等提供资金支持.</li>
<li>空投部份:
为弥补平台早期用户风险.</li>
</ul>
</li>
</ol>
<p>过程中再有资本进入,通过增发来保证资本进入.同时社区也会通过回购或分红的方式使进利益共享.</p>
<h2 id="102-4c成长型社区代币分配细则设计"><a class="header" href="#102-4c成长型社区代币分配细则设计">10.2 4C成长型社区代币分配细则设计</a></h2>
<p><img src="./docs/image/partnership_agreement.png" alt="Alt text" />
注:
1.所有角色中未解锁部份由社区账户代持.
2.每季度末根据实际进行情况进行划转.
3.价值贡献部份对应人只拥有分红权,无控制权,无拥有权.根据团队完成目标情况,转化部份为合伙人部份-A类型或者合伙人部份B类型.
4.社区账户代持投权票归项目创始人控制.</p>
<h2 id="103-tts代币发行细则"><a class="header" href="#103-tts代币发行细则">10.3 TTS代币发行细则.</a></h2>
<p>股份代币享有社区分红权,和资产所有权.
发行数量:10亿枚.</p>
<h1 id="11-法律许可"><a class="header" href="#11-法律许可">11 法律许可</a></h1>
<h2 id="111-说明"><a class="header" href="#111-说明">11.1 说明</a></h2>
<p>为了维护项目正常权利,同时也方便其它用户了解协议,对于不同文件不同开源协议.违反协议将得到法律追究.</p>
<h2 id="112-协议说明"><a class="header" href="#112-协议说明">11.2 协议说明</a></h2>
<p>采用MIT协议的文件供大家自由使用
采用BUSL-1.1协议的文件才协议有效期内只能用户于学习目标,不能运用于商业用途.具体协议内容参见:项目中LICENSE文件或者
github:https://github.com/ttswap/ttswap-core/LICENSE.
如因项目在未知的情况违反其它项目开源协议,及时联系我们,我们尽快调整.</p>
<h2 id="113-文件开源协议信息"><a class="header" href="#113-文件开源协议信息">11.3 文件开源协议信息</a></h2>
<p>├── GoodManage.sol(BUSL-1.1)<br />
├── MarketManager.sol(BUSL-1.1)<br />
├── ProofManage.sol(BUSL-1.1)<br />
├── interfaces<br />
│   ├── I_Good.sol(MIT)<br />
│   ├── I_MarketManage.sol(MIT)<br />
│   └── I_Proof.sol(MIT)<br />
├── libraries<br />
│   ├── Address.sol(MIT)<br />
│   ├── FullMath.sol(MIT)<br />
│   ├── L_Good.sol(BUSL-1.1)<br />
│   ├── L_GoodConfig.sol(MIT)<br />
│   ├── L_MarketConfig.sol(MIT)<br />
│   ├── L_Proof.sol(BUSL-1.1)<br />
│   ├── L_Ralate.sol(MIT)<br />
│   ├── Multicall.sol( GPL-2.0-or-later)<br />
│   ├── SafeCast.sol (MIT)<br />
│   └── Strings.sol (MIT)<br />
└── types<br />
├── S_GoodKey.sol(MIT)<br />
├── S_ProofKey.sol(MIT)<br />
├── T_BalanceUINT256.sol(MIT)<br />
├── T_Currency.sol(MIT)<br />
├── T_GoodId.sol(MIT)<br />
└── T_ProofId.sol(MIT)</p>
<h1 id="11-参与和合作联系方式"><a class="header" href="#11-参与和合作联系方式">11 参与和合作联系方式</a></h1>
<p>X:@ttswap_exchange<br />
TG:@ttswap01<br />
Email:ttswap.exchange@gmail.com<br />
Discord:https://discord.com/invite/GZyEPZmk</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="Contracts/interfaces/IERC20Minimal.sol/interface.IERC20Minimal.html">IERC20Minimal</a></li>
<li><a href="Contracts/interfaces/I_Good.sol/interface.I_Good.html">I_Good</a></li>
<li><a href="Contracts/interfaces/I_MarketManage.sol/interface.I_MarketManage.html">I_MarketManage</a></li>
<li><a href="Contracts/interfaces/I_Proof.sol/interface.I_Proof.html">I_Proof</a></li>
<li><a href="Contracts/interfaces/I_Referer.sol/interface.I_Referer.html">I_Referer</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20minimal"><a class="header" href="#ierc20minimal">IERC20Minimal</a></h1>
<p>Contains a subset of the full ERC20 interface that is used in Uniswap V1</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="balanceof"><a class="header" href="#balanceof">balanceOf</a></h3>
<p>Returns the balance of a token</p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account for which to look up the number of tokens it has, i.e. its balance</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The number of tokens held by the account</td></tr>
</tbody></table>
</div>
<h3 id="decimals"><a class="header" href="#decimals">decimals</a></h3>
<p>Returns the balance of a token</p>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint8</code></td><td>The number of tokens held by the account</td></tr>
</tbody></table>
</div>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<p>Transfers the amount of token from the <code>msg.sender</code> to the recipient</p>
<pre><code class="language-solidity">function transfer(address recipient, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The account that will receive the amount transferred</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to send from the sender to the recipient</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Returns true for a successful transfer, false for an unsuccessful transfer</td></tr>
</tbody></table>
</div>
<h3 id="allowance"><a class="header" href="#allowance">allowance</a></h3>
<p>Returns the current allowance given to a spender by an owner</p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The account of the token owner</td></tr>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The account of the token spender</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current allowance granted by <code>owner</code> to <code>spender</code></td></tr>
</tbody></table>
</div>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<p>Sets the allowance of a spender from the <code>msg.sender</code> to the value <code>amount</code></p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The account which will be allowed to spend a given amount of the owners tokens</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of tokens allowed to be used by <code>spender</code></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Returns true for a successful approval, false for unsuccessful</td></tr>
</tbody></table>
</div>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<p>Transfers <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> up to the allowance given to the <code>msg.sender</code></p>
<pre><code class="language-solidity">function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The account from which the transfer will be initiated</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the transfer</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of the transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Returns true for a successful transfer, false for unsuccessful</td></tr>
</tbody></table>
</div>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="transfer-1"><a class="header" href="#transfer-1">Transfer</a></h3>
<p>Event emitted when tokens are transferred from one address to another, either via <code>#transfer</code> or <code>#transferFrom</code>.</p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from</code></td><td><code>address</code></td><td>The account from which the tokens were sent, i.e. the balance decreased</td></tr>
<tr><td><code>to</code></td><td><code>address</code></td><td>The account to which the tokens were sent, i.e. the balance increased</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The amount of tokens that were transferred</td></tr>
</tbody></table>
</div>
<h3 id="approval"><a class="header" href="#approval">Approval</a></h3>
<p>Event emitted when the approval amount for the spender of a given owner's tokens changes.</p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The account that approved spending of its tokens</td></tr>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The account for which the spending allowance was modified</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The new allowance from the owner to the spender</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="i_good"><a class="header" href="#i_good">I_Good</a></h1>
<p>包含商品的一系列接口  contain good's all interfaces</p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="marketconfig"><a class="header" href="#marketconfig">marketconfig</a></h3>
<p>Returns the config of the market 返回市场的配置</p>
<p><em>Can be changed by the marketmanager</em></p>
<pre><code class="language-solidity">function marketconfig() external view returns (uint256 marketconfig_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>marketconfig_</code></td><td><code>uint256</code></td><td>The address of the factory owner</td></tr>
</tbody></table>
</div>
<h3 id="marketcreator"><a class="header" href="#marketcreator">marketcreator</a></h3>
<p>Returns the manger of market 返回市场管理者 返回市场商品总数</p>
<pre><code class="language-solidity">function marketcreator() external view returns (address marketcreator_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>marketcreator_</code></td><td><code>address</code></td><td>The address of the factory manager</td></tr>
</tbody></table>
</div>
<h3 id="goodnum"><a class="header" href="#goodnum">goodnum</a></h3>
<p>Returns the good's total number of the market 返回市场商品总数</p>
<pre><code class="language-solidity">function goodnum() external view returns (uint256 goodnum_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>goodnum_</code></td><td><code>uint256</code></td><td>The address of the factory owner</td></tr>
</tbody></table>
</div>
<h3 id="check_banlist"><a class="header" href="#check_banlist">check_banlist</a></h3>
<p>Returns the address's status 查询地址是否被禁止提手续费</p>
<pre><code class="language-solidity">function check_banlist(address _user) external view returns (bool _isban);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>用户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_isban</code></td><td><code>bool</code></td><td>The address of the factory owner</td></tr>
</tbody></table>
</div>
<h3 id="setmarketconfig"><a class="header" href="#setmarketconfig">setMarketConfig</a></h3>
<p>config market config 设置市场中市场配置</p>
<pre><code class="language-solidity">function setMarketConfig(uint256 _marketconfig) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_marketconfig</code></td><td><code>uint256</code></td><td>seller address 卖家地址</td></tr>
</tbody></table>
</div>
<h3 id="getgoodidbyaddress"><a class="header" href="#getgoodidbyaddress">getGoodIdByAddress</a></h3>
<p>get seller's good 获取卖家的商品列表</p>
<pre><code class="language-solidity">function getGoodIdByAddress(address _owner) external view returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>seller address 卖家地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>goods list 商品编号列表</td></tr>
</tbody></table>
</div>
<h3 id="getgoodstate"><a class="header" href="#getgoodstate">getGoodState</a></h3>
<p>get good's state 获取商品状态</p>
<pre><code class="language-solidity">function getGoodState(uint256 _goodid) external view returns (L_Good.S_GoodTmpState memory good);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id  商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>good</code></td><td><code>L_Good.S_GoodTmpState</code></td><td>goodinfo 商品的状态信息</td></tr>
</tbody></table>
</div>
<h3 id="updategoodconfig"><a class="header" href="#updategoodconfig">updateGoodConfig</a></h3>
<p>update good's config 更新商品配置</p>
<pre><code class="language-solidity">function updateGoodConfig(uint256 _goodid, uint256 _goodConfig) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
<tr><td><code>_goodConfig</code></td><td><code>uint256</code></td><td>商品配置</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result  更新结果</td></tr>
</tbody></table>
</div>
<h3 id="updatetovaluegood"><a class="header" href="#updatetovaluegood">updatetoValueGood</a></h3>
<p>update normal good to value good 更新普通商品为价值商品</p>
<pre><code class="language-solidity">function updatetoValueGood(uint256 _goodid) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result  更新结果</td></tr>
</tbody></table>
</div>
<h3 id="updatetonormalgood"><a class="header" href="#updatetonormalgood">updatetoNormalGood</a></h3>
<p>update normal good to value good 更新价值商品为普通商品</p>
<pre><code class="language-solidity">function updatetoNormalGood(uint256 _goodid) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result  更新结果</td></tr>
</tbody></table>
</div>
<h3 id="paygood"><a class="header" href="#paygood">payGood</a></h3>
<p>pay good to  转给</p>
<pre><code class="language-solidity">function payGood(uint256 _goodid, uint256 _payquanity, address _recipent) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>商品的商品ID</td></tr>
<tr><td><code>_payquanity</code></td><td><code>uint256</code></td><td>数量</td></tr>
<tr><td><code>_recipent</code></td><td><code>address</code></td><td>接收者</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result</td></tr>
</tbody></table>
</div>
<h3 id="changegoodowner"><a class="header" href="#changegoodowner">changeGoodOwner</a></h3>
<p>set good's Owner 改变商品的拥有者</p>
<pre><code class="language-solidity">function changeGoodOwner(uint256 _goodid, address _to) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>recipent 接收者</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result</td></tr>
</tbody></table>
</div>
<h3 id="collectprotocolfee"><a class="header" href="#collectprotocolfee">collectProtocolFee</a></h3>
<p>collect protocalFee 收益协议手续费</p>
<pre><code class="language-solidity">function collectProtocolFee(uint256 _goodid) external payable returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>the result 手续费数量</td></tr>
</tbody></table>
</div>
<h3 id="addbanlist"><a class="header" href="#addbanlist">addbanlist</a></h3>
<p>add ban list  增加禁止名单</p>
<pre><code class="language-solidity">function addbanlist(address _user) external returns (bool is_success_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>address 地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>is_success_</code></td><td><code>bool</code></td><td>是否成功</td></tr>
</tbody></table>
</div>
<h3 id="removebanlist"><a class="header" href="#removebanlist">removebanlist</a></h3>
<p>rm ban list  移除禁止名单</p>
<pre><code class="language-solidity">function removebanlist(address _user) external returns (bool is_success_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>address 地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>is_success_</code></td><td><code>bool</code></td><td>是否成功</td></tr>
</tbody></table>
</div>
<h3 id="getgoodsfee"><a class="header" href="#getgoodsfee">getGoodsFee</a></h3>
<p>获取商品的用户协议手续费</p>
<pre><code class="language-solidity">function getGoodsFee(uint256 _goodid, address _user) external view returns (uint256 fee_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>商品编号</td></tr>
<tr><td><code>_user</code></td><td><code>address</code></td><td>用户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fee_</code></td><td><code>uint256</code></td><td>是否成功</td></tr>
</tbody></table>
</div>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="e_changeowner"><a class="header" href="#e_changeowner">e_changeOwner</a></h3>
<p>emitted when good's user tranfer the good to another 商品拥有者转移关系给另一人</p>
<pre><code class="language-solidity">event e_changeOwner(uint256 indexed _goodid, address _owner, address _to);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good number,商品编号</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>the older owner,原拥有者</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>the new owner,新拥有者</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="i_marketmanage"><a class="header" href="#i_marketmanage">I_MarketManage</a></h1>
<p><strong>Inherits:</strong>
<a href="Contracts/interfaces/I_MarketManage.sol//Contracts/interfaces/I_Good.sol/interface.I_Good.html">I_Good</a>, <a href="Contracts/interfaces/I_MarketManage.sol//Contracts/interfaces/I_Proof.sol/interface.I_Proof.html">I_Proof</a></p>
<p>市场管理接口 market manage interface</p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="initmetagood"><a class="header" href="#initmetagood">initMetaGood</a></h3>
<p>get good's state 获取商品状态</p>
<pre><code class="language-solidity">function initMetaGood(address _erc20address, T_BalanceUINT256 _initial, uint256 _goodconfig)
    external
    payable
    returns (uint256 metagood_no_, uint256 proof_no_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_erc20address</code></td><td><code>address</code></td><td>good's id  商品的商品ID</td></tr>
<tr><td><code>_initial</code></td><td><code>T_BalanceUINT256</code></td><td>initial good,amount0:value,amount1:quantity 初始化的商品的参数,前128位为价值,后128位为数量.</td></tr>
<tr><td><code>_goodconfig</code></td><td><code>uint256</code></td><td>initial good,amount0:value,amount1:quantity 初始化的商品的参数,前128位为价值,后128位为数量.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>metagood_no_</code></td><td><code>uint256</code></td><td>元商品编号</td></tr>
<tr><td><code>proof_no_</code></td><td><code>uint256</code></td><td>投资证明编号</td></tr>
</tbody></table>
</div>
<h3 id="initnormalgood"><a class="header" href="#initnormalgood">initNormalGood</a></h3>
<p>获取商品状态 get good's state</p>
<pre><code class="language-solidity">function initNormalGood(
    uint256 _valuegood,
    T_BalanceUINT256 _initial,
    address _erc20address,
    uint256 _goodConfig,
    address _gater
) external payable returns (uint256 goodNo_, uint256 proofNo_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_valuegood</code></td><td><code>uint256</code></td><td>使用什么价值物品度量普通物品的价值  use which value good to measure the normal good</td></tr>
<tr><td><code>_initial</code></td><td><code>T_BalanceUINT256</code></td><td>普通物品的初始化参数</td></tr>
<tr><td><code>_erc20address</code></td><td><code>address</code></td><td>普通物品对应的ERC20代币合约地址</td></tr>
<tr><td><code>_goodConfig</code></td><td><code>uint256</code></td><td>普通物品的配置信息</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>goodNo_</code></td><td><code>uint256</code></td><td>初始化普通物品后的证明 the proof of initial good</td></tr>
<tr><td><code>proofNo_</code></td><td><code>uint256</code></td><td>初始化普通物品后的证明 the proof of initial good</td></tr>
</tbody></table>
</div>
<h3 id="buygood"><a class="header" href="#buygood">buyGood</a></h3>
<p>出售商品1购买商品2</p>
<p><em>如果购买商品1而出售商品2,开发者需求折算成使用商品2购买商品1</em></p>
<pre><code class="language-solidity">function buyGood(
    uint256 _goodid1,
    uint256 _goodid2,
    uint128 _swapQuanitity,
    uint256 _limitprice,
    bool _istotal,
    address _gater
) external payable returns (uint128 goodid2Quanitity_, uint128 goodid2FeeQuanitity_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid1</code></td><td><code>uint256</code></td><td>商品1的ID</td></tr>
<tr><td><code>_goodid2</code></td><td><code>uint256</code></td><td>商品2的ID</td></tr>
<tr><td><code>_swapQuanitity</code></td><td><code>uint128</code></td><td>出售商品1的数量</td></tr>
<tr><td><code>_limitprice</code></td><td><code>uint256</code></td><td>在不高于某价值出售</td></tr>
<tr><td><code>_istotal</code></td><td><code>bool</code></td><td>是否允许完全成交</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>用户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>goodid2Quanitity_</code></td><td><code>uint128</code></td><td>实际情况</td></tr>
<tr><td><code>goodid2FeeQuanitity_</code></td><td><code>uint128</code></td><td>实际情况</td></tr>
</tbody></table>
</div>
<h3 id="buygoodforpay"><a class="header" href="#buygoodforpay">buyGoodForPay</a></h3>
<p>出售商品1购买商品2</p>
<p><em>如果购买商品1而出售商品2,开发者需求折算成使用商品2购买商品1</em></p>
<pre><code class="language-solidity">function buyGoodForPay(
    uint256 _goodid1,
    uint256 _goodid2,
    uint128 _swapQuanitity,
    uint256 _limitprice,
    address _recipent,
    address _gater
) external payable returns (uint128 goodid2_quanitity_, uint128 goodid2_fee_quanitity_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid1</code></td><td><code>uint256</code></td><td>商品1的ID</td></tr>
<tr><td><code>_goodid2</code></td><td><code>uint256</code></td><td>商品2的ID</td></tr>
<tr><td><code>_swapQuanitity</code></td><td><code>uint128</code></td><td>出售商品1的数量</td></tr>
<tr><td><code>_limitprice</code></td><td><code>uint256</code></td><td>在不高于某价值出售</td></tr>
<tr><td><code>_recipent</code></td><td><code>address</code></td><td>收款方</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>goodid2_quanitity_</code></td><td><code>uint128</code></td><td>商品2获得的数量(不包含手续费)</td></tr>
<tr><td><code>goodid2_fee_quanitity_</code></td><td><code>uint128</code></td><td>商品2的手续费</td></tr>
</tbody></table>
</div>
<h3 id="investvaluegood"><a class="header" href="#investvaluegood">investValueGood</a></h3>
<p>投资价值商品</p>
<pre><code class="language-solidity">function investValueGood(uint256 _goodid, uint128 _goodQuanitity, address _gater)
    external
    payable
    returns (L_Good.S_GoodInvestReturn calldata valueInvest_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>价值商品的ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>投资价值商品的数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>valueInvest_</code></td><td><code>L_Good.S_GoodInvestReturn</code></td><td>valueInvest_ struct S_GoodinvestReturn { uint128 actualFeeQuantity; //实际手续费 uint128 contructFeeQuantity; //构建手续费 uint128 actualinvestValue; //实际投资价值 uint128 actualinvestQuantity; //实际投资数量 }</td></tr>
</tbody></table>
</div>
<h3 id="disinvestvaluegood"><a class="header" href="#disinvestvaluegood">disinvestValueGood</a></h3>
<p>撤资价值商品</p>
<pre><code class="language-solidity">function disinvestValueGood(uint256 _goodid, uint128 _goodQuanitity, address _gater)
    external
    payable
    returns (L_Good.S_GoodDisinvestReturn memory disinvestResult_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>价值商品的ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消价值商品的数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestResult_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div>
<h3 id="investnormalgood"><a class="header" href="#investnormalgood">investNormalGood</a></h3>
<p>投资普通商品</p>
<pre><code class="language-solidity">function investNormalGood(uint256 _togood, uint256 _valuegood, uint128 _quanitity, address _gater)
    external
    payable
    returns (L_Good.S_GoodInvestReturn calldata normalinvest, L_Good.S_GoodInvestReturn calldata valueinvest);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_togood</code></td><td><code>uint256</code></td><td>普通商品的ID</td></tr>
<tr><td><code>_valuegood</code></td><td><code>uint256</code></td><td>价值商品的ID</td></tr>
<tr><td><code>_quanitity</code></td><td><code>uint128</code></td><td>投资普通商品的数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>normalinvest</code></td><td><code>L_Good.S_GoodInvestReturn</code></td><td>普通商品 struct S_GoodinvestReturn { uint128 actualFeeQuantity; //实际手续费 uint128 contructFeeQuantity; //构建手续费 uint128 actualinvestValue; //实际投资价值 uint128 actualinvestQuantity; //实际投资数量 }</td></tr>
<tr><td><code>valueinvest</code></td><td><code>L_Good.S_GoodInvestReturn</code></td><td>价值商品 struct S_GoodinvestReturn { uint128 actualFeeQuantity; //实际手续费 uint128 contructFeeQuantity; //构建手续费 uint128 actualinvestValue; //实际投资价值 uint128 actualinvestQuantity; //实际投资数量 }</td></tr>
</tbody></table>
</div>
<h3 id="disinvestnormalgood"><a class="header" href="#disinvestnormalgood">disinvestNormalGood</a></h3>
<p>撤资普通商品</p>
<pre><code class="language-solidity">function disinvestNormalGood(uint256 _togood, uint256 _valuegood, uint128 _goodQuanitity, address _gater)
    external
    payable
    returns (
        L_Good.S_GoodDisinvestReturn memory disinvestResult1_,
        L_Good.S_GoodDisinvestReturn memory disinvestResult2_
    );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_togood</code></td><td><code>uint256</code></td><td>普通商品id</td></tr>
<tr><td><code>_valuegood</code></td><td><code>uint256</code></td><td>投资ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消普通商品投资数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestResult1_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>普通商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
<tr><td><code>disinvestResult2_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>价值商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div>
<h3 id="disinvestvalueproof"><a class="header" href="#disinvestvalueproof">disinvestValueProof</a></h3>
<p>撤资价值商品证明</p>
<pre><code class="language-solidity">function disinvestValueProof(uint256 _valueproofid, uint128 _goodQuanitity, address _gater)
    external
    payable
    returns (L_Good.S_GoodDisinvestReturn memory disinvestResult_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_valueproofid</code></td><td><code>uint256</code></td><td>投资ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消价值商品数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestResult_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>价值商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div>
<h3 id="disinvestnormalproof"><a class="header" href="#disinvestnormalproof">disinvestNormalProof</a></h3>
<p>撤资普通商品证明</p>
<pre><code class="language-solidity">function disinvestNormalProof(uint256 _normalProof, uint128 _goodQuanitity, address _gater)
    external
    payable
    returns (
        L_Good.S_GoodDisinvestReturn memory disinvestResult1_,
        L_Good.S_GoodDisinvestReturn memory disinvestResult2_
    );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_normalProof</code></td><td><code>uint256</code></td><td>投资ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消普通商品数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestResult1_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>普通商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
<tr><td><code>disinvestResult2_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>价值商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="e_buygood"><a class="header" href="#e_buygood">e_buyGood</a></h3>
<p>emit when customer buy good :当用户购买商品时触发</p>
<pre><code class="language-solidity">event e_buyGood(
    uint256 indexed sellgood,
    uint256 indexed forgood,
    address fromer,
    uint128 swapvalue,
    T_BalanceUINT256 sellgoodstate,
    T_BalanceUINT256 forgoodstate
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sellgood</code></td><td><code>uint256</code></td><td>good's id  商品的商品ID</td></tr>
<tr><td><code>forgood</code></td><td><code>uint256</code></td><td>initial good,amount0:value,amount1:quantity 初始化的商品的参数,前128位为价值,后128位为数量.</td></tr>
<tr><td><code>fromer</code></td><td><code>address</code></td><td>seller or buyer address 卖家或买家地址</td></tr>
<tr><td><code>swapvalue</code></td><td><code>uint128</code></td><td>trade value  交易价值</td></tr>
<tr><td><code>sellgoodstate</code></td><td><code>T_BalanceUINT256</code></td><td>the sellgood status amount0:fee,amount1:quantity 使用商品的交易结果 amount0:手续费,amount1:数量</td></tr>
<tr><td><code>forgoodstate</code></td><td><code>T_BalanceUINT256</code></td><td>the forgood status amount0:fee,amount1:quantity 获得商品的交易结果amount0:手续费,amount1:数量</td></tr>
</tbody></table>
</div>
<h3 id="e_buygoodforpay"><a class="header" href="#e_buygoodforpay">e_buyGoodForPay</a></h3>
<p>emit when customer buy good pay to the seller :当用户购买商品支付给卖家时触发</p>
<pre><code class="language-solidity">event e_buyGoodForPay(
    uint256 indexed buygood,
    uint256 indexed usegood,
    address fromer,
    address receipt,
    uint128 swapvalue,
    T_BalanceUINT256 buygoodstate,
    T_BalanceUINT256 usegoodstate
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>buygood</code></td><td><code>uint256</code></td><td>good's id  商品的商品ID</td></tr>
<tr><td><code>usegood</code></td><td><code>uint256</code></td><td>initial good,amount0:value,amount1:quantity 初始化的商品的参数,前128位为价值,后128位为数量.</td></tr>
<tr><td><code>fromer</code></td><td><code>address</code></td><td>seller or buyer address 卖家或买家地址</td></tr>
<tr><td><code>receipt</code></td><td><code>address</code></td><td>receipt  收款方</td></tr>
<tr><td><code>swapvalue</code></td><td><code>uint128</code></td><td>trade value  交易价值</td></tr>
<tr><td><code>buygoodstate</code></td><td><code>T_BalanceUINT256</code></td><td>the buygood status amount0:fee,amount1:quantity 使用商品的交易结果 amount0:手续费,amount1:数量</td></tr>
<tr><td><code>usegoodstate</code></td><td><code>T_BalanceUINT256</code></td><td>the usegood status amount0:fee,amount1:quantity 获得商品的交易结果amount0:手续费,amount1:数量</td></tr>
</tbody></table>
</div>
<h3 id="e_proof"><a class="header" href="#e_proof">e_proof</a></h3>
<pre><code class="language-solidity">event e_proof(uint256 indexed);
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="err_total"><a class="header" href="#err_total">err_total</a></h3>
<pre><code class="language-solidity">error err_total();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="i_proof"><a class="header" href="#i_proof">I_Proof</a></h1>
<p>包含商品的一系列接口  contain good's all interfaces</p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="proofnum"><a class="header" href="#proofnum">proofnum</a></h3>
<p>Returns the total number of market's proof 返回市场证明总数</p>
<pre><code class="language-solidity">function proofnum() external view returns (uint256 proofnum_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proofnum_</code></td><td><code>uint256</code></td><td>The address of the factory manager</td></tr>
</tbody></table>
</div>
<h3 id="getproofid"><a class="header" href="#getproofid">getProofId</a></h3>
<p>获取投资证明ID get the invest proof'id</p>
<pre><code class="language-solidity">function getProofId(S_ProofKey calldata _investproofkey) external view returns (uint256 proof_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_investproofkey</code></td><td><code>S_ProofKey</code></td><td>生成投资证明的参数据</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proof_</code></td><td><code>uint256</code></td><td>投资证明的ID</td></tr>
</tbody></table>
</div>
<h3 id="changeproofowner"><a class="header" href="#changeproofowner">changeProofOwner</a></h3>
<p>改变投资证明的拥有者</p>
<pre><code class="language-solidity">function changeProofOwner(uint256 _proofid, address _to) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_proofid</code></td><td><code>uint256</code></td><td>生成投资证明的参数据</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>生成投资证明的参数据</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>proof_ 投资证明的ID</td></tr>
</tbody></table>
</div>
<h3 id="getproofstate"><a class="header" href="#getproofstate">getProofState</a></h3>
<p>get the invest proof'id 获取投资证明ID详情</p>
<pre><code class="language-solidity">function getProofState(uint256 _proof) external view returns (L_Proof.S_ProofState memory proof_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_proof</code></td><td><code>uint256</code></td><td>证明编号</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proof_</code></td><td><code>L_Proof.S_ProofState</code></td><td>证明信息</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="i_referer"><a class="header" href="#i_referer">I_Referer</a></h1>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="addreferer"><a class="header" href="#addreferer">addreferer</a></h3>
<p>用户添加推荐人</p>
<pre><code class="language-solidity">function addreferer(address _referer) external returns (bool is_success_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_referer</code></td><td><code>address</code></td><td>推荐人地址</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/type.T_BalanceUINT256.html">T_BalanceUINT256</a></li>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/library.L_BalanceUINT256Library.html">L_BalanceUINT256Library</a></li>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/function.getprice.html">getprice</a></li>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/function.sub.html">sub</a></li>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/function.add.html">add</a></li>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/function.subadd.html">subadd</a></li>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/function.addsub.html">addsub</a></li>
<li><a href="Contracts/libraries/L_BalanceUINT256.sol/function.toBalanceUINT256.html">toBalanceUINT256</a></li>
<li><a href="Contracts/libraries/L_Currency.sol/library.L_CurrencyLibrary.html">L_CurrencyLibrary</a></li>
<li><a href="Contracts/libraries/L_Good.sol/library.L_Good.html">L_Good</a></li>
<li><a href="Contracts/libraries/L_Good.sol/library.L_GoodIdLibrary.html">L_GoodIdLibrary</a></li>
<li><a href="Contracts/libraries/L_GoodConfig.sol/library.L_GoodConfigLibrary.html">L_GoodConfigLibrary</a></li>
<li><a href="Contracts/libraries/L_MarketConfig.sol/library.L_MarketConfigLibrary.html">L_MarketConfigLibrary</a></li>
<li><a href="Contracts/libraries/L_Proof.sol/library.L_Proof.html">L_Proof</a></li>
<li><a href="Contracts/libraries/L_Proof.sol/library.L_ProofIdLibrary.html">L_ProofIdLibrary</a></li>
<li><a href="Contracts/libraries/L_Struct.sol/struct.S_GoodKey.html">S_GoodKey</a></li>
<li><a href="Contracts/libraries/L_Struct.sol/struct.S_ProofKey.html">S_ProofKey</a></li>
<li><a href="Contracts/libraries/L_Struct.sol/struct.S_Ralate.html">S_Ralate</a></li>
<li><a href="Contracts/libraries/Multicall.sol/abstract.Multicall.html">Multicall</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="t_balanceuint256"><a class="header" href="#t_balanceuint256">T_BalanceUINT256</a></h1>
<pre><code class="language-solidity">type T_BalanceUINT256 is uint256;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_balanceuint256library"><a class="header" href="#l_balanceuint256library">L_BalanceUINT256Library</a></h1>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="amount0"><a class="header" href="#amount0">amount0</a></h3>
<pre><code class="language-solidity">function amount0(T_BalanceUINT256 balanceDelta) internal pure returns (uint128 _amount0);
</code></pre>
<h3 id="amount1"><a class="header" href="#amount1">amount1</a></h3>
<pre><code class="language-solidity">function amount1(T_BalanceUINT256 balanceDelta) internal pure returns (uint128 _amount1);
</code></pre>
<h3 id="getamount0fromamount1"><a class="header" href="#getamount0fromamount1">getamount0fromamount1</a></h3>
<pre><code class="language-solidity">function getamount0fromamount1(T_BalanceUINT256 balanceDelta, uint128 amount1delta)
    internal
    pure
    returns (uint128 _amount0);
</code></pre>
<h3 id="getamount1fromamount0"><a class="header" href="#getamount1fromamount0">getamount1fromamount0</a></h3>
<pre><code class="language-solidity">function getamount1fromamount0(T_BalanceUINT256 balanceDelta, uint128 amount0delta)
    internal
    pure
    returns (uint128 _amount1);
</code></pre>
<h3 id="checkvalid"><a class="header" href="#checkvalid">checkvalid</a></h3>
<pre><code class="language-solidity">function checkvalid(T_BalanceUINT256 balanceDelta) internal pure returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getprice"><a class="header" href="#getprice">getprice</a></h1>
<pre><code class="language-solidity">function getprice(T_BalanceUINT256 a, T_BalanceUINT256 b, T_BalanceUINT256 c) pure returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sub"><a class="header" href="#sub">sub</a></h1>
<pre><code class="language-solidity">function sub(T_BalanceUINT256 a, T_BalanceUINT256 b) pure returns (T_BalanceUINT256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add"><a class="header" href="#add">add</a></h1>
<pre><code class="language-solidity">function add(T_BalanceUINT256 a, T_BalanceUINT256 b) pure returns (T_BalanceUINT256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="subadd"><a class="header" href="#subadd">subadd</a></h1>
<pre><code class="language-solidity">function subadd(T_BalanceUINT256 a, T_BalanceUINT256 b) pure returns (T_BalanceUINT256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="addsub"><a class="header" href="#addsub">addsub</a></h1>
<pre><code class="language-solidity">function addsub(T_BalanceUINT256 a, T_BalanceUINT256 b) pure returns (T_BalanceUINT256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tobalanceuint256"><a class="header" href="#tobalanceuint256">toBalanceUINT256</a></h1>
<pre><code class="language-solidity">function toBalanceUINT256(uint128 _amount0, uint128 _amount1) pure returns (T_BalanceUINT256 balanceDelta);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_currencylibrary"><a class="header" href="#l_currencylibrary">L_CurrencyLibrary</a></h1>
<p><em>This library allows for transferring and holding native tokens and ERC20 tokens</em></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="native"><a class="header" href="#native">NATIVE</a></h3>
<pre><code class="language-solidity">address public constant NATIVE = address(0);
</code></pre>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="approve-1"><a class="header" href="#approve-1">approve</a></h3>
<pre><code class="language-solidity">function approve(address currency, uint256 amount) internal;
</code></pre>
<h3 id="decimals-1"><a class="header" href="#decimals-1">decimals</a></h3>
<pre><code class="language-solidity">function decimals(address currency) internal view returns (uint8);
</code></pre>
<h3 id="totalsupply-1"><a class="header" href="#totalsupply-1">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply(address currency) internal view returns (uint256);
</code></pre>
<h3 id="transferfrom-1"><a class="header" href="#transferfrom-1">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address currency, address from, uint256 amount) internal;
</code></pre>
<h3 id="transfer-2"><a class="header" href="#transfer-2">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address currency, address to, uint256 amount) internal;
</code></pre>
<h3 id="balanceofself"><a class="header" href="#balanceofself">balanceOfSelf</a></h3>
<pre><code class="language-solidity">function balanceOfSelf(address currency) internal view returns (uint256);
</code></pre>
<h3 id="balanceof-1"><a class="header" href="#balanceof-1">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address currency, address owner) internal view returns (uint256);
</code></pre>
<h3 id="isnative"><a class="header" href="#isnative">isNative</a></h3>
<pre><code class="language-solidity">function isNative(address currency) internal pure returns (bool);
</code></pre>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="nativetransferfailed"><a class="header" href="#nativetransferfailed">NativeTransferFailed</a></h3>
<p>Thrown when a native transfer fails</p>
<pre><code class="language-solidity">error NativeTransferFailed();
</code></pre>
<h3 id="erc20transferfailed"><a class="header" href="#erc20transferfailed">ERC20TransferFailed</a></h3>
<p>Thrown when an ERC20 transfer fails</p>
<pre><code class="language-solidity">error ERC20TransferFailed();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_good"><a class="header" href="#l_good">L_Good</a></h1>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="getmaxtradevalue"><a class="header" href="#getmaxtradevalue">getMaxTradeValue</a></h3>
<pre><code class="language-solidity">function getMaxTradeValue(S_GoodState storage self) internal view returns (uint128);
</code></pre>
<h3 id="getmaxtradequnitity"><a class="header" href="#getmaxtradequnitity">getMaxTradeQunitity</a></h3>
<pre><code class="language-solidity">function getMaxTradeQunitity(S_GoodState storage self) internal view returns (uint128);
</code></pre>
<h3 id="updatetovaluegood-1"><a class="header" href="#updatetovaluegood-1">updateToValueGood</a></h3>
<pre><code class="language-solidity">function updateToValueGood(S_GoodState storage self) internal;
</code></pre>
<h3 id="updatetonormalgood-1"><a class="header" href="#updatetonormalgood-1">updateToNormalGood</a></h3>
<pre><code class="language-solidity">function updateToNormalGood(S_GoodState storage self) internal;
</code></pre>
<h3 id="updategoodconfig-1"><a class="header" href="#updategoodconfig-1">updateGoodConfig</a></h3>
<pre><code class="language-solidity">function updateGoodConfig(S_GoodState storage _self, uint256 _goodConfig) internal;
</code></pre>
<h3 id="init"><a class="header" href="#init">init</a></h3>
<pre><code class="language-solidity">function init(S_GoodState storage self, T_BalanceUINT256 _init, address _erc20address, uint256 _goodConfig) internal;
</code></pre>
<h3 id="swapcompute1"><a class="header" href="#swapcompute1">swapCompute1</a></h3>
<pre><code class="language-solidity">function swapCompute1(swapCache memory _stepCache, T_BalanceUINT256 _limitPrice)
    internal
    pure
    returns (swapCache memory);
</code></pre>
<h3 id="swapcompute2"><a class="header" href="#swapcompute2">swapCompute2</a></h3>
<pre><code class="language-solidity">function swapCompute2(swapCache memory stepCache, T_BalanceUINT256 limitPrice)
    internal
    pure
    returns (swapCache memory);
</code></pre>
<h3 id="swapcommit"><a class="header" href="#swapcommit">swapCommit</a></h3>
<pre><code class="language-solidity">function swapCommit(
    S_GoodState storage _self,
    T_BalanceUINT256 _swapstate,
    uint128 _fee,
    uint256 _marketconfig,
    S_Ralate memory _ralate
) internal;
</code></pre>
<h3 id="investgood"><a class="header" href="#investgood">investGood</a></h3>
<pre><code class="language-solidity">function investGood(S_GoodState storage _self, uint128 _invest, uint256 _marketConfig, S_Ralate memory _ralate)
    internal
    returns (S_GoodInvestReturn memory investResult_);
</code></pre>
<h3 id="disinvestvaluegood-1"><a class="header" href="#disinvestvaluegood-1">disinvestValueGood</a></h3>
<pre><code class="language-solidity">function disinvestValueGood(
    S_GoodState storage _self,
    L_Proof.S_ProofState storage _investProof,
    uint128 _goodQuantity,
    uint256 _marketconfig,
    S_Ralate memory _ralate
) internal returns (S_GoodDisinvestReturn memory disinvestResult_);
</code></pre>
<h3 id="disinvestnormalgood-1"><a class="header" href="#disinvestnormalgood-1">disinvestNormalGood</a></h3>
<pre><code class="language-solidity">function disinvestNormalGood(
    S_GoodState storage _self,
    S_GoodState storage _valueGoodState,
    L_Proof.S_ProofState storage _investProof,
    uint128 _goodQuantity,
    uint256 _marketconfig,
    S_Ralate memory _ralate
) internal returns (S_GoodDisinvestReturn memory normalGoodResult1_, S_GoodDisinvestReturn memory valueGoodResult2_);
</code></pre>
<h3 id="allocatefee"><a class="header" href="#allocatefee">allocateFee</a></h3>
<pre><code class="language-solidity">function allocateFee(
    S_GoodState storage _self,
    uint128 _actualFeeQuantity,
    uint256 _marketconfig,
    S_Ralate memory _ralate
) private;
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="s_goodstate"><a class="header" href="#s_goodstate">S_GoodState</a></h3>
<pre><code class="language-solidity">struct S_GoodState {
    uint256 goodConfig;
    address owner;
    address erc20address;
    T_BalanceUINT256 currentState;
    T_BalanceUINT256 investState;
    T_BalanceUINT256 feeQunitityState;
    mapping(address =&gt; uint256) fees;
}
</code></pre>
<h3 id="s_goodtmpstate"><a class="header" href="#s_goodtmpstate">S_GoodTmpState</a></h3>
<pre><code class="language-solidity">struct S_GoodTmpState {
    uint256 goodConfig;
    address owner;
    address erc20address;
    T_BalanceUINT256 currentState;
    T_BalanceUINT256 investState;
    T_BalanceUINT256 feeQunitityState;
}
</code></pre>
<h3 id="s_goodinvestreturn"><a class="header" href="#s_goodinvestreturn">S_GoodInvestReturn</a></h3>
<pre><code class="language-solidity">struct S_GoodInvestReturn {
    uint128 actualFeeQuantity;
    uint128 contructFeeQuantity;
    uint128 actualInvestValue;
    uint128 actualInvestQuantity;
}
</code></pre>
<h3 id="s_gooddisinvestreturn"><a class="header" href="#s_gooddisinvestreturn">S_GoodDisinvestReturn</a></h3>
<pre><code class="language-solidity">struct S_GoodDisinvestReturn {
    uint128 profit;
    uint128 actual_fee;
    uint128 actualDisinvestValue;
    uint128 actualDisinvestQuantity;
}
</code></pre>
<h3 id="swapcache"><a class="header" href="#swapcache">swapCache</a></h3>
<pre><code class="language-solidity">struct swapCache {
    uint128 remainQuanitity;
    uint128 outputQuanitity;
    uint128 feeQuanitity;
    uint128 swapvalue;
    T_BalanceUINT256 good1currentState;
    uint256 good1config;
    T_BalanceUINT256 good2currentState;
    uint256 good2config;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_goodidlibrary"><a class="header" href="#l_goodidlibrary">L_GoodIdLibrary</a></h1>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="toid"><a class="header" href="#toid">toId</a></h3>
<pre><code class="language-solidity">function toId(S_GoodKey memory goodKey) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_goodconfiglibrary"><a class="header" href="#l_goodconfiglibrary">L_GoodConfigLibrary</a></h1>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="isvaluegood"><a class="header" href="#isvaluegood">isvaluegood</a></h3>
<pre><code class="language-solidity">function isvaluegood(uint256 config) internal pure returns (bool a);
</code></pre>
<h3 id="getinvestfee"><a class="header" href="#getinvestfee">getInvestFee</a></h3>
<pre><code class="language-solidity">function getInvestFee(uint256 config) internal pure returns (uint16 a);
</code></pre>
<h3 id="getinvestfee-1"><a class="header" href="#getinvestfee-1">getInvestFee</a></h3>
<pre><code class="language-solidity">function getInvestFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getdisinvestfee"><a class="header" href="#getdisinvestfee">getDisinvestFee</a></h3>
<pre><code class="language-solidity">function getDisinvestFee(uint256 config) internal pure returns (uint16 a);
</code></pre>
<h3 id="getdisinvestfee-1"><a class="header" href="#getdisinvestfee-1">getDisinvestFee</a></h3>
<pre><code class="language-solidity">function getDisinvestFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getbuyfee"><a class="header" href="#getbuyfee">getBuyFee</a></h3>
<pre><code class="language-solidity">function getBuyFee(uint256 config) internal pure returns (uint16 a);
</code></pre>
<h3 id="getbuyfee-1"><a class="header" href="#getbuyfee-1">getBuyFee</a></h3>
<pre><code class="language-solidity">function getBuyFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getsellfee"><a class="header" href="#getsellfee">getSellFee</a></h3>
<pre><code class="language-solidity">function getSellFee(uint256 config) internal pure returns (uint16 a);
</code></pre>
<h3 id="getsellfee-1"><a class="header" href="#getsellfee-1">getSellFee</a></h3>
<pre><code class="language-solidity">function getSellFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getswapchips"><a class="header" href="#getswapchips">getSwapChips</a></h3>
<pre><code class="language-solidity">function getSwapChips(uint256 config) internal pure returns (uint16 a);
</code></pre>
<h3 id="getswapchips-1"><a class="header" href="#getswapchips-1">getSwapChips</a></h3>
<pre><code class="language-solidity">function getSwapChips(uint256 config, uint128 amount) internal pure returns (uint128);
</code></pre>
<h3 id="getdisinvestchips"><a class="header" href="#getdisinvestchips">getDisinvestChips</a></h3>
<pre><code class="language-solidity">function getDisinvestChips(uint256 config) internal pure returns (uint16 a);
</code></pre>
<h3 id="getdisinvestchips-1"><a class="header" href="#getdisinvestchips-1">getDisinvestChips</a></h3>
<pre><code class="language-solidity">function getDisinvestChips(uint256 config, uint128 amount) internal pure returns (uint128);
</code></pre>
<h3 id="getgoodtype"><a class="header" href="#getgoodtype">getGoodType</a></h3>
<pre><code class="language-solidity">function getGoodType(uint256 config) internal pure returns (uint128 a);
</code></pre>
<h3 id="gettell"><a class="header" href="#gettell">getTell</a></h3>
<pre><code class="language-solidity">function getTell(uint256 config) internal pure returns (uint128 a);
</code></pre>
<h3 id="getlongitude"><a class="header" href="#getlongitude">getLongitude</a></h3>
<pre><code class="language-solidity">function getLongitude(uint256 config) internal pure returns (uint128 a);
</code></pre>
<h3 id="getlatitude"><a class="header" href="#getlatitude">getLatitude</a></h3>
<pre><code class="language-solidity">function getLatitude(uint256 config) internal pure returns (uint128 a);
</code></pre>
<h3 id="getreinvest"><a class="header" href="#getreinvest">getReInvest</a></h3>
<pre><code class="language-solidity">function getReInvest(uint256 config) internal pure returns (uint128 a);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_marketconfiglibrary"><a class="header" href="#l_marketconfiglibrary">L_MarketConfigLibrary</a></h1>
<p>Library for computing the ID of a pool</p>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="getliquidfee"><a class="header" href="#getliquidfee">getLiquidFee</a></h3>
<pre><code class="language-solidity">function getLiquidFee(uint256 config) internal pure returns (uint8 a);
</code></pre>
<h3 id="getliquidfee-1"><a class="header" href="#getliquidfee-1">getLiquidFee</a></h3>
<pre><code class="language-solidity">function getLiquidFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getsellerfee"><a class="header" href="#getsellerfee">getSellerFee</a></h3>
<pre><code class="language-solidity">function getSellerFee(uint256 config) internal pure returns (uint8 a);
</code></pre>
<h3 id="getsellerfee-1"><a class="header" href="#getsellerfee-1">getSellerFee</a></h3>
<pre><code class="language-solidity">function getSellerFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getgaterfee"><a class="header" href="#getgaterfee">getGaterFee</a></h3>
<pre><code class="language-solidity">function getGaterFee(uint256 config) internal pure returns (uint8 a);
</code></pre>
<h3 id="getgaterfee-1"><a class="header" href="#getgaterfee-1">getGaterFee</a></h3>
<pre><code class="language-solidity">function getGaterFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getreferfee"><a class="header" href="#getreferfee">getReferFee</a></h3>
<pre><code class="language-solidity">function getReferFee(uint256 config) internal pure returns (uint8 a);
</code></pre>
<h3 id="getreferfee-1"><a class="header" href="#getreferfee-1">getReferFee</a></h3>
<pre><code class="language-solidity">function getReferFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getcustomerfee"><a class="header" href="#getcustomerfee">getCustomerFee</a></h3>
<pre><code class="language-solidity">function getCustomerFee(uint256 config) internal pure returns (uint8 a);
</code></pre>
<h3 id="getcustomerfee-1"><a class="header" href="#getcustomerfee-1">getCustomerFee</a></h3>
<pre><code class="language-solidity">function getCustomerFee(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getplatfee"><a class="header" href="#getplatfee">getPlatFee</a></h3>
<pre><code class="language-solidity">function getPlatFee(uint256 config) internal pure returns (uint8 a);
</code></pre>
<h3 id="getplatfee128"><a class="header" href="#getplatfee128">getPlatFee128</a></h3>
<pre><code class="language-solidity">function getPlatFee128(uint256 config, uint256 amount) internal pure returns (uint128 a);
</code></pre>
<h3 id="getplatfee256"><a class="header" href="#getplatfee256">getPlatFee256</a></h3>
<pre><code class="language-solidity">function getPlatFee256(uint256 config, uint256 amount) internal pure returns (uint256 a);
</code></pre>
<h3 id="checkallocate"><a class="header" href="#checkallocate">checkAllocate</a></h3>
<pre><code class="language-solidity">function checkAllocate(uint256 config) internal pure returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_proof"><a class="header" href="#l_proof">L_Proof</a></h1>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="updatevalueinvest"><a class="header" href="#updatevalueinvest">updateValueInvest</a></h3>
<pre><code class="language-solidity">function updateValueInvest(
    S_ProofState storage _self,
    uint256 _currenctgood,
    T_BalanceUINT256 _state,
    T_BalanceUINT256 _invest
) internal;
</code></pre>
<h3 id="updatenormalinvest"><a class="header" href="#updatenormalinvest">updateNormalInvest</a></h3>
<pre><code class="language-solidity">function updateNormalInvest(
    S_ProofState storage _self,
    uint256 _currenctgood,
    uint256 _valuegood,
    T_BalanceUINT256 _state,
    T_BalanceUINT256 _invest,
    T_BalanceUINT256 _valueinvest
) internal;
</code></pre>
<h3 id="burnvalueproofsome"><a class="header" href="#burnvalueproofsome">burnValueProofSome</a></h3>
<pre><code class="language-solidity">function burnValueProofSome(S_ProofState storage _self, uint128 _quantity) internal;
</code></pre>
<h3 id="burnnormalproofsome"><a class="header" href="#burnnormalproofsome">burnNormalProofSome</a></h3>
<pre><code class="language-solidity">function burnNormalProofSome(S_ProofState storage _self, uint128 _quantity) internal;
</code></pre>
<h3 id="muldiv"><a class="header" href="#muldiv">mulDiv</a></h3>
<pre><code class="language-solidity">function mulDiv(uint256 config, uint256 amount, uint256 domitor) internal pure returns (uint128 a);
</code></pre>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="s_proofstate"><a class="header" href="#s_proofstate">S_ProofState</a></h3>
<pre><code class="language-solidity">struct S_ProofState {
    address owner;
    uint256 currentgood;
    uint256 valuegood;
    T_BalanceUINT256 state;
    T_BalanceUINT256 invest;
    T_BalanceUINT256 valueinvest;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="l_proofidlibrary"><a class="header" href="#l_proofidlibrary">L_ProofIdLibrary</a></h1>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="toid-1"><a class="header" href="#toid-1">toId</a></h3>
<pre><code class="language-solidity">function toId(S_ProofKey memory proofKey) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="s_goodkey"><a class="header" href="#s_goodkey">S_GoodKey</a></h1>
<pre><code class="language-solidity">struct S_GoodKey {
    address erc20address;
    address owner;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="s_proofkey"><a class="header" href="#s_proofkey">S_ProofKey</a></h1>
<pre><code class="language-solidity">struct S_ProofKey {
    address owner;
    uint256 currentgood;
    uint256 valuegood;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="s_ralate"><a class="header" href="#s_ralate">S_Ralate</a></h1>
<pre><code class="language-solidity">struct S_Ralate {
    address gater;
    address refer;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="multicall"><a class="header" href="#multicall">Multicall</a></h1>
<p>Enables calling multiple methods in a single call to the contract</p>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="multicall-1"><a class="header" href="#multicall-1">multicall</a></h3>
<pre><code class="language-solidity">function multicall(bytes[] calldata data) public payable returns (bytes[] memory results);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="goodmanage"><a class="header" href="#goodmanage">GoodManage</a></h1>
<p><strong>Inherits:</strong>
<a href="Contracts/GoodManage.sol//Contracts/interfaces/I_Good.sol/interface.I_Good.html">I_Good</a>, <a href="Contracts/GoodManage.sol//Contracts/RefererManage.sol/abstract.RefererManage.html">RefererManage</a></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="marketconfig-1"><a class="header" href="#marketconfig-1">marketconfig</a></h3>
<p>Returns the config of the market 返回市场的配置</p>
<p><em>Can be changed by the marketmanager</em></p>
<pre><code class="language-solidity">uint256 public override marketconfig;
</code></pre>
<h3 id="goodnum-1"><a class="header" href="#goodnum-1">goodnum</a></h3>
<p>Returns the good's total number of the market 返回市场商品总数</p>
<pre><code class="language-solidity">uint256 public override goodnum;
</code></pre>
<h3 id="goods"><a class="header" href="#goods">goods</a></h3>
<pre><code class="language-solidity">mapping(uint256 =&gt; L_Good.S_GoodState) internal goods;
</code></pre>
<h3 id="ownergoods"><a class="header" href="#ownergoods">ownergoods</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256[]) public ownergoods;
</code></pre>
<h3 id="goodseq"><a class="header" href="#goodseq">goodseq</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint256) public goodseq;
</code></pre>
<h3 id="locked"><a class="header" href="#locked">locked</a></h3>
<pre><code class="language-solidity">uint256 internal locked;
</code></pre>
<h3 id="marketcreator-1"><a class="header" href="#marketcreator-1">marketcreator</a></h3>
<pre><code class="language-solidity">address public override marketcreator;
</code></pre>
<h3 id="banlist"><a class="header" href="#banlist">banlist</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public banlist;
</code></pre>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _marketcreator, uint256 _marketconfig);
</code></pre>
<h3 id="onlymarketcreator"><a class="header" href="#onlymarketcreator">onlyMarketCreator</a></h3>
<pre><code class="language-solidity">modifier onlyMarketCreator();
</code></pre>
<h3 id="noreentrant"><a class="header" href="#noreentrant">noReentrant</a></h3>
<pre><code class="language-solidity">modifier noReentrant();
</code></pre>
<h3 id="noblacklist"><a class="header" href="#noblacklist">noblacklist</a></h3>
<pre><code class="language-solidity">modifier noblacklist();
</code></pre>
<h3 id="addbanlist-1"><a class="header" href="#addbanlist-1">addbanlist</a></h3>
<p>add ban list  增加禁止名单</p>
<pre><code class="language-solidity">function addbanlist(address _user) external override onlyMarketCreator returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>address 地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>is_success_ 是否成功</td></tr>
</tbody></table>
</div>
<h3 id="removebanlist-1"><a class="header" href="#removebanlist-1">removebanlist</a></h3>
<p>rm ban list  移除禁止名单</p>
<pre><code class="language-solidity">function removebanlist(address _user) external override onlyMarketCreator returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>address 地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>is_success_ 是否成功</td></tr>
</tbody></table>
</div>
<h3 id="setmarketconfig-1"><a class="header" href="#setmarketconfig-1">setMarketConfig</a></h3>
<p>config market config 设置市场中市场配置</p>
<pre><code class="language-solidity">function setMarketConfig(uint256 _marketconfig) external override onlyMarketCreator returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_marketconfig</code></td><td><code>uint256</code></td><td>seller address 卖家地址</td></tr>
</tbody></table>
</div>
<h3 id="getgoodidbyaddress-1"><a class="header" href="#getgoodidbyaddress-1">getGoodIdByAddress</a></h3>
<p>get seller's good 获取卖家的商品列表</p>
<pre><code class="language-solidity">function getGoodIdByAddress(address _owner) external view override returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>seller address 卖家地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>goods list 商品编号列表</td></tr>
</tbody></table>
</div>
<h3 id="getgoodstate-1"><a class="header" href="#getgoodstate-1">getGoodState</a></h3>
<p>get good's state 获取商品状态</p>
<pre><code class="language-solidity">function getGoodState(uint256 _goodid) external view override returns (L_Good.S_GoodTmpState memory good_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id  商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>good_</code></td><td><code>L_Good.S_GoodTmpState</code></td><td>good goodinfo 商品的状态信息</td></tr>
</tbody></table>
</div>
<h3 id="getgoodsfee-1"><a class="header" href="#getgoodsfee-1">getGoodsFee</a></h3>
<p>获取商品的用户协议手续费</p>
<pre><code class="language-solidity">function getGoodsFee(uint256 _goodid, address user) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>商品编号</td></tr>
<tr><td><code>user</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>fee_ 是否成功</td></tr>
</tbody></table>
</div>
<h3 id="updategoodconfig-2"><a class="header" href="#updategoodconfig-2">updateGoodConfig</a></h3>
<pre><code class="language-solidity">function updateGoodConfig(uint256 _goodid, uint256 _goodConfig) external override returns (bool);
</code></pre>
<h3 id="updatetovaluegood-2"><a class="header" href="#updatetovaluegood-2">updatetoValueGood</a></h3>
<p>update normal good to value good 更新普通商品为价值商品</p>
<pre><code class="language-solidity">function updatetoValueGood(uint256 _goodid) external override onlyMarketCreator returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result  更新结果</td></tr>
</tbody></table>
</div>
<h3 id="updatetonormalgood-2"><a class="header" href="#updatetonormalgood-2">updatetoNormalGood</a></h3>
<p>update normal good to value good 更新价值商品为普通商品</p>
<pre><code class="language-solidity">function updatetoNormalGood(uint256 _goodid) external override onlyMarketCreator returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result  更新结果</td></tr>
</tbody></table>
</div>
<h3 id="paygood-1"><a class="header" href="#paygood-1">payGood</a></h3>
<p>pay good to  转给</p>
<pre><code class="language-solidity">function payGood(uint256 _goodid, uint256 _payquanity, address _recipent) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>商品的商品ID</td></tr>
<tr><td><code>_payquanity</code></td><td><code>uint256</code></td><td>数量</td></tr>
<tr><td><code>_recipent</code></td><td><code>address</code></td><td>接收者</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result</td></tr>
</tbody></table>
</div>
<h3 id="changegoodowner-1"><a class="header" href="#changegoodowner-1">changeGoodOwner</a></h3>
<p>set good's Owner 改变商品的拥有者</p>
<pre><code class="language-solidity">function changeGoodOwner(uint256 _goodid, address _to) external override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>recipent 接收者</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>the result</td></tr>
</tbody></table>
</div>
<h3 id="collectprotocolfee-1"><a class="header" href="#collectprotocolfee-1">collectProtocolFee</a></h3>
<p>collect protocalFee 收益协议手续费</p>
<pre><code class="language-solidity">function collectProtocolFee(uint256 _goodid) external payable override noblacklist returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>good's id 商品的商品ID</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>the result 手续费数量</td></tr>
</tbody></table>
</div>
<h3 id="check_banlist-1"><a class="header" href="#check_banlist-1">check_banlist</a></h3>
<p>Returns the address's status 查询地址是否被禁止提手续费</p>
<pre><code class="language-solidity">function check_banlist(address _user) external view override returns (bool _isban);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>用户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_isban</code></td><td><code>bool</code></td><td>The address of the factory owner</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="marketmanager"><a class="header" href="#marketmanager">MarketManager</a></h1>
<p><strong>Inherits:</strong>
<a href="Contracts/MarketManager.sol//Contracts/libraries/Multicall.sol/abstract.Multicall.html">Multicall</a>, <a href="Contracts/MarketManager.sol//Contracts/GoodManage.sol/abstract.GoodManage.html">GoodManage</a>, <a href="Contracts/MarketManager.sol//Contracts/ProofManage.sol/abstract.ProofManage.html">ProofManage</a>, <a href="Contracts/MarketManager.sol//Contracts/interfaces/I_MarketManage.sol/interface.I_MarketManage.html">I_MarketManage</a></p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _marketcreator, uint256 _marketconfig) GoodManage(_marketcreator, _marketconfig);
</code></pre>
<h3 id="initmetagood-1"><a class="header" href="#initmetagood-1">initMetaGood</a></h3>
<p>get good's state 获取商品状态</p>
<pre><code class="language-solidity">function initMetaGood(address _erc20address, T_BalanceUINT256 _initial, uint256 _goodConfig)
    external
    payable
    override
    onlyMarketCreator
    returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_erc20address</code></td><td><code>address</code></td><td>good's id  商品的商品ID</td></tr>
<tr><td><code>_initial</code></td><td><code>T_BalanceUINT256</code></td><td>initial good,amount0:value,amount1:quantity 初始化的商品的参数,前128位为价值,后128位为数量.</td></tr>
<tr><td><code>_goodConfig</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>metagood_no_ 元商品编号</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>proof_no_ 投资证明编号</td></tr>
</tbody></table>
</div>
<h3 id="initnormalgood-1"><a class="header" href="#initnormalgood-1">initNormalGood</a></h3>
<p>获取商品状态 get good's state</p>
<pre><code class="language-solidity">function initNormalGood(
    uint256 _valuegood,
    T_BalanceUINT256 _initial,
    address _erc20address,
    uint256 _goodConfig,
    address _gater
) external payable override noReentrant returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_valuegood</code></td><td><code>uint256</code></td><td>使用什么价值物品度量普通物品的价值  use which value good to measure the normal good</td></tr>
<tr><td><code>_initial</code></td><td><code>T_BalanceUINT256</code></td><td>普通物品的初始化参数</td></tr>
<tr><td><code>_erc20address</code></td><td><code>address</code></td><td>普通物品对应的ERC20代币合约地址</td></tr>
<tr><td><code>_goodConfig</code></td><td><code>uint256</code></td><td>普通物品的配置信息</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>goodNo_ 初始化普通物品后的证明 the proof of initial good</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>proofNo_ 初始化普通物品后的证明 the proof of initial good</td></tr>
</tbody></table>
</div>
<h3 id="buygood-1"><a class="header" href="#buygood-1">buyGood</a></h3>
<p>出售商品1购买商品2</p>
<p><em>如果购买商品1而出售商品2,开发者需求折算成使用商品2购买商品1</em></p>
<pre><code class="language-solidity">function buyGood(
    uint256 _goodid1,
    uint256 _goodid2,
    uint128 _swapQuanitity,
    uint256 _limitPrice,
    bool _istotal,
    address _gater
) external payable override noReentrant returns (uint128 goodid2Quanitity_, uint128 goodid2FeeQuanitity_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid1</code></td><td><code>uint256</code></td><td>商品1的ID</td></tr>
<tr><td><code>_goodid2</code></td><td><code>uint256</code></td><td>商品2的ID</td></tr>
<tr><td><code>_swapQuanitity</code></td><td><code>uint128</code></td><td>出售商品1的数量</td></tr>
<tr><td><code>_limitPrice</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>_istotal</code></td><td><code>bool</code></td><td>是否允许完全成交</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>用户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>goodid2Quanitity_</code></td><td><code>uint128</code></td><td>实际情况</td></tr>
<tr><td><code>goodid2FeeQuanitity_</code></td><td><code>uint128</code></td><td>实际情况</td></tr>
</tbody></table>
</div>
<h3 id="buygoodforpay-1"><a class="header" href="#buygoodforpay-1">buyGoodForPay</a></h3>
<p>出售商品1购买商品2</p>
<p><em>如果购买商品1而出售商品2,开发者需求折算成使用商品2购买商品1</em></p>
<pre><code class="language-solidity">function buyGoodForPay(
    uint256 _goodid1,
    uint256 _goodid2,
    uint128 _swapQuanitity,
    uint256 _limitPrice,
    address _recipent,
    address _gater
) external payable override noReentrant returns (uint128 goodid1Quanitity_, uint128 goodid1FeeQuanitity_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid1</code></td><td><code>uint256</code></td><td>商品1的ID</td></tr>
<tr><td><code>_goodid2</code></td><td><code>uint256</code></td><td>商品2的ID</td></tr>
<tr><td><code>_swapQuanitity</code></td><td><code>uint128</code></td><td>出售商品1的数量</td></tr>
<tr><td><code>_limitPrice</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>_recipent</code></td><td><code>address</code></td><td>收款方</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>goodid1Quanitity_</code></td><td><code>uint128</code></td><td>goodid2_quanitity_ 商品2获得的数量(不包含手续费)</td></tr>
<tr><td><code>goodid1FeeQuanitity_</code></td><td><code>uint128</code></td><td>goodid2_fee_quanitity_ 商品2的手续费</td></tr>
</tbody></table>
</div>
<h3 id="investvaluegood-1"><a class="header" href="#investvaluegood-1">investValueGood</a></h3>
<p>投资价值商品</p>
<pre><code class="language-solidity">function investValueGood(uint256 _goodid, uint128 _goodQuanitity, address _gater)
    external
    payable
    override
    noReentrant
    returns (L_Good.S_GoodInvestReturn memory valueInvest_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>价值商品的ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>投资价值商品的数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户地址</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>valueInvest_</code></td><td><code>L_Good.S_GoodInvestReturn</code></td><td>valueInvest_ struct S_GoodinvestReturn { uint128 actualFeeQuantity; //实际手续费 uint128 contructFeeQuantity; //构建手续费 uint128 actualinvestValue; //实际投资价值 uint128 actualinvestQuantity; //实际投资数量 }</td></tr>
</tbody></table>
</div>
<h3 id="disinvestvaluegood-2"><a class="header" href="#disinvestvaluegood-2">disinvestValueGood</a></h3>
<p>撤资价值商品</p>
<pre><code class="language-solidity">function disinvestValueGood(uint256 _goodid, uint128 _goodQuanitity, address _gater)
    external
    payable
    override
    noReentrant
    returns (L_Good.S_GoodDisinvestReturn memory disinvestResult_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_goodid</code></td><td><code>uint256</code></td><td>价值商品的ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消价值商品的数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestResult_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div>
<h3 id="investnormalgood-1"><a class="header" href="#investnormalgood-1">investNormalGood</a></h3>
<p>投资普通商品</p>
<pre><code class="language-solidity">function investNormalGood(uint256 _togood, uint256 _valuegood, uint128 _quanitity, address _gater)
    external
    payable
    override
    noReentrant
    returns (L_Good.S_GoodInvestReturn memory normalInvest, L_Good.S_GoodInvestReturn memory valueInvest);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_togood</code></td><td><code>uint256</code></td><td>普通商品的ID</td></tr>
<tr><td><code>_valuegood</code></td><td><code>uint256</code></td><td>价值商品的ID</td></tr>
<tr><td><code>_quanitity</code></td><td><code>uint128</code></td><td>投资普通商品的数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>normalInvest</code></td><td><code>L_Good.S_GoodInvestReturn</code></td><td>normalinvest 普通商品 struct S_GoodinvestReturn { uint128 actualFeeQuantity; //实际手续费 uint128 contructFeeQuantity; //构建手续费 uint128 actualinvestValue; //实际投资价值 uint128 actualinvestQuantity; //实际投资数量 }</td></tr>
<tr><td><code>valueInvest</code></td><td><code>L_Good.S_GoodInvestReturn</code></td><td>valueinvest 价值商品 struct S_GoodinvestReturn { uint128 actualFeeQuantity; //实际手续费 uint128 contructFeeQuantity; //构建手续费 uint128 actualinvestValue; //实际投资价值 uint128 actualinvestQuantity; //实际投资数量 }</td></tr>
</tbody></table>
</div>
<h3 id="disinvestnormalgood-2"><a class="header" href="#disinvestnormalgood-2">disinvestNormalGood</a></h3>
<p>撤资普通商品</p>
<pre><code class="language-solidity">function disinvestNormalGood(uint256 _togood, uint256 _valuegood, uint128 _goodQuanitity, address _gater)
    external
    payable
    override
    noReentrant
    returns (
        L_Good.S_GoodDisinvestReturn memory disinvestNormalResult1_,
        L_Good.S_GoodDisinvestReturn memory disinvestValueResult2_
    );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_togood</code></td><td><code>uint256</code></td><td>普通商品id</td></tr>
<tr><td><code>_valuegood</code></td><td><code>uint256</code></td><td>投资ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消普通商品投资数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestNormalResult1_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>disinvestResult1_   普通商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
<tr><td><code>disinvestValueResult2_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>disinvestResult2_   价值商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div>
<h3 id="disinvestvalueproof-1"><a class="header" href="#disinvestvalueproof-1">disinvestValueProof</a></h3>
<p>撤资价值商品证明</p>
<pre><code class="language-solidity">function disinvestValueProof(uint256 _valueproofid, uint128 _goodQuanitity, address _gater)
    external
    payable
    override
    noReentrant
    returns (L_Good.S_GoodDisinvestReturn memory disinvestResult_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_valueproofid</code></td><td><code>uint256</code></td><td>投资ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消价值商品数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestResult_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>价值商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div>
<h3 id="disinvestnormalproof-1"><a class="header" href="#disinvestnormalproof-1">disinvestNormalProof</a></h3>
<p>撤资普通商品证明</p>
<pre><code class="language-solidity">function disinvestNormalProof(uint256 _normalProof, uint128 _goodQuanitity, address _gater)
    external
    payable
    override
    noReentrant
    returns (
        L_Good.S_GoodDisinvestReturn memory disinvestNormalResult1_,
        L_Good.S_GoodDisinvestReturn memory disinvestValueResult2_
    );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_normalProof</code></td><td><code>uint256</code></td><td>投资ID</td></tr>
<tr><td><code>_goodQuanitity</code></td><td><code>uint128</code></td><td>取消普通商品数量</td></tr>
<tr><td><code>_gater</code></td><td><code>address</code></td><td>门户</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>disinvestNormalResult1_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>disinvestResult1_   普通商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
<tr><td><code>disinvestValueResult2_</code></td><td><code>L_Good.S_GoodDisinvestReturn</code></td><td>disinvestResult2_   价值商品:amount0 为投资收益 amount1为实际产生手续费</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="proofmanage"><a class="header" href="#proofmanage">ProofManage</a></h1>
<p><strong>Inherits:</strong>
<a href="Contracts/ProofManage.sol//Contracts/interfaces/I_Proof.sol/interface.I_Proof.html">I_Proof</a></p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="proofnum-1"><a class="header" href="#proofnum-1">proofnum</a></h3>
<pre><code class="language-solidity">uint256 public override proofnum;
</code></pre>
<h3 id="proofs"><a class="header" href="#proofs">proofs</a></h3>
<pre><code class="language-solidity">mapping(uint256 =&gt; L_Proof.S_ProofState) public proofs;
</code></pre>
<h3 id="ownerproofs"><a class="header" href="#ownerproofs">ownerproofs</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256[]) public ownerproofs;
</code></pre>
<h3 id="proofseq"><a class="header" href="#proofseq">proofseq</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint256) public proofseq;
</code></pre>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="getproofid-1"><a class="header" href="#getproofid-1">getProofId</a></h3>
<p>获取投资证明ID get the invest proof'id</p>
<pre><code class="language-solidity">function getProofId(S_ProofKey calldata _investproofkey) external view override returns (uint256 proof_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_investproofkey</code></td><td><code>S_ProofKey</code></td><td>生成投资证明的参数据</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proof_</code></td><td><code>uint256</code></td><td>投资证明的ID</td></tr>
</tbody></table>
</div>
<h3 id="getproofstate-1"><a class="header" href="#getproofstate-1">getProofState</a></h3>
<p>get the invest proof'id 获取投资证明ID详情</p>
<pre><code class="language-solidity">function getProofState(uint256 _proof) external view override returns (L_Proof.S_ProofState memory proof_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_proof</code></td><td><code>uint256</code></td><td>证明编号</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proof_</code></td><td><code>L_Proof.S_ProofState</code></td><td>证明信息</td></tr>
</tbody></table>
</div>
<h3 id="changeproofowner-1"><a class="header" href="#changeproofowner-1">changeProofOwner</a></h3>
<p>改变投资证明的拥有者</p>
<pre><code class="language-solidity">function changeProofOwner(uint256 _proofid, address _to) external override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_proofid</code></td><td><code>uint256</code></td><td>生成投资证明的参数据</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>生成投资证明的参数据</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>proof_ 投资证明的ID</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="referermanage"><a class="header" href="#referermanage">RefererManage</a></h1>
<p><strong>Inherits:</strong>
<a href="Contracts/RefererManage.sol//Contracts/interfaces/I_Referer.sol/interface.I_Referer.html">I_Referer</a></p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="customernum"><a class="header" href="#customernum">customernum</a></h3>
<pre><code class="language-solidity">uint256 public customernum;
</code></pre>
<h3 id="customerno"><a class="header" href="#customerno">customerno</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public customerno;
</code></pre>
<h3 id="relations"><a class="header" href="#relations">relations</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; address) public relations;
</code></pre>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="addreferer-1"><a class="header" href="#addreferer-1">addreferer</a></h3>
<p>用户添加推荐人</p>
<pre><code class="language-solidity">function addreferer(address _referer) external override returns (bool is_success_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_referer</code></td><td><code>address</code></td><td>推荐人地址</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
